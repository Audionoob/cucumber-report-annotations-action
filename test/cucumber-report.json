[
  {
    "line": 1,
    "elements": [
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 2824000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 3175000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 546000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:12.754Z",
        "before": [
          {
            "result": {
              "duration": 238100000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 21,
        "name": "Ask for capture a customer order line on a payment schedule",
        "description": "",
        "id": ";ask-for-capture-a-customer-order-line-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 247000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 4877067000,
              "status": "passed"
            },
            "line": 22,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 223821000,
              "status": "passed"
            },
            "line": 27,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 141000,
              "status": "passed"
            },
            "line": 30,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 242916000,
              "status": "passed"
            },
            "line": 31,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 12552000,
              "status": "passed"
            },
            "line": 34,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1598000,
              "status": "passed"
            },
            "line": 37,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 3336000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 2104000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 704000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:12.751Z",
        "before": [
          {
            "result": {
              "duration": 238053000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 39,
        "name": "Ask for capture two customer order lines from the same vendor on a payment schedule",
        "description": "",
        "id": ";ask-for-capture-two-customer-order-lines-from-the-same-vendor-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 13720000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 4877183000,
              "status": "passed"
            },
            "line": 40,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 223693000,
              "status": "passed"
            },
            "line": 45,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 128000,
              "status": "passed"
            },
            "line": 49,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 243287000,
              "status": "passed"
            },
            "line": 50,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 13451000,
              "status": "passed"
            },
            "line": 53,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "error_message": "java.util.ConcurrentModificationException\n\tat java.base/java.util.HashMap$KeySpliterator.tryAdvance(HashMap.java:1626)\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n\tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:528)\n\tat com.adeo.sales.customerorder.paymentscheduler.kafka.KafkaConsumerClient.assertNoEventsReceived(KafkaConsumerClient.java:109)\n\tat com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(EventSteps.java:45)\n\tat ✽.no domain event is sent(classpath:features/ask-for-capture.feature:56)\n",
              "duration": 6061000,
              "status": "failed"
            },
            "line": 56,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 2981000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 3972000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 197000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:12.753Z",
        "before": [
          {
            "result": {
              "duration": 238155000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 60,
        "name": "Ask for capture multiple customer order lines from multiple vendors on a payment schedule",
        "description": "",
        "id": ";ask-for-capture-multiple-customer-order-lines-from-multiple-vendors-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 108000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 4874888000,
              "status": "passed"
            },
            "line": 61,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 223568000,
              "status": "passed"
            },
            "line": 66,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 190000,
              "status": "passed"
            },
            "line": 70,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 243792000,
              "status": "passed"
            },
            "line": 71,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 14586000,
              "status": "passed"
            },
            "line": 74,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 358000,
              "status": "passed"
            },
            "line": 77,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 3678000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 3782000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2372000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:12.753Z",
        "before": [
          {
            "result": {
              "duration": 238139000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 79,
        "name": "Ask for capture all customer order lines on a payment schedule",
        "description": "",
        "id": ";ask-for-capture-all-customer-order-lines-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 200000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 4874303000,
              "status": "passed"
            },
            "line": 80,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 221464000,
              "status": "passed"
            },
            "line": 85,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 165000,
              "status": "passed"
            },
            "line": 90,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 242800000,
              "status": "passed"
            },
            "line": 91,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 12325000,
              "status": "passed"
            },
            "line": 94,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 305000,
              "status": "passed"
            },
            "line": 97,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 372000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 242000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1056000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:18.437Z",
        "before": [
          {
            "result": {
              "duration": 101000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 101,
        "name": "Cannot ask for capture an fully captured customer order line on a payment schedule",
        "description": "",
        "id": ";cannot-ask-for-capture-an-fully-captured-customer-order-line-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 79000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 1371027000,
              "status": "passed"
            },
            "line": 102,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 203770000,
              "status": "passed"
            },
            "line": 107,
            "name": "the following products have their payment pending",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "pending",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204215000,
              "status": "passed"
            },
            "line": 110,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 120000,
              "status": "passed"
            },
            "line": 113,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202172000,
              "status": "passed"
            },
            "line": 114,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1671000,
              "status": "passed"
            },
            "line": 117,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 247000,
              "status": "passed"
            },
            "line": 120,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": []
      },
      {
        "start_timestamp": "2020-07-12T13:24:18.425Z",
        "line": 122,
        "name": "Ask for capture an partial captured customer order line on a payment schedule",
        "description": "",
        "id": ";ask-for-capture-an-partial-captured-customer-order-line-on-a-payment-schedule",
        "type": "scenario",
        "keyword": "Scenario",
        "steps": []
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 1244000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 1167000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 534000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:18.442Z",
        "before": [
          {
            "result": {
              "duration": 6454000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 127,
        "name": "Cannot ask for capture a customer order line on a payment schedule due to a functional payment error",
        "description": "",
        "id": ";cannot-ask-for-capture-a-customer-order-line-on-a-payment-schedule-due-to-a-functional-payment-error",
        "after": [
          {
            "result": {
              "duration": 254000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 1385261000,
              "status": "passed"
            },
            "line": 128,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 1131000,
              "status": "passed"
            },
            "line": 133,
            "name": "the following cashing business interventions will be return",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CaptureSteps.theFollowingCashingBusinessInterventionsWillBeReturn(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "code",
                  "errors"
                ]
              },
              {
                "cells": [
                  "product1",
                  "ERROR_PAYMENT_FUNCTIONAL",
                  "have a functional payment error"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 205483000,
              "status": "passed"
            },
            "line": 136,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 83000,
              "status": "passed"
            },
            "line": 139,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1870000,
              "status": "passed"
            },
            "line": 140,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 2687000,
              "status": "passed"
            },
            "line": 143,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 5514000,
              "status": "passed"
            },
            "line": 146,
            "name": "a domain event CustomerOrderLinesPaymentCaptureFailed is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentCaptureFailed",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 152000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 195000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 119000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:18.462Z",
        "before": [
          {
            "result": {
              "duration": 125000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 154,
        "name": "Cannot ask for capture a customer order line on an unvalidated payment schedule",
        "description": "",
        "id": ";cannot-ask-for-capture-a-customer-order-line-on-an-unvalidated-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 91000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 462181000,
              "status": "passed"
            },
            "line": 155,
            "name": "a payment schedule unvalidated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "unvalidated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 210752000,
              "status": "passed"
            },
            "line": 160,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 125000,
              "status": "passed"
            },
            "line": 163,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1412932000,
              "status": "passed"
            },
            "line": 164,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 443000,
              "status": "passed"
            },
            "line": 165,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1724000,
              "status": "passed"
            },
            "line": 166,
            "name": "a domain event CustomerOrderLinesPaymentCaptureFailed is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentCaptureFailed",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 201000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 289000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 74000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:18.461Z",
        "before": [
          {
            "result": {
              "duration": 763000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 172,
        "name": "Cannot ask for capture a customer order line on an payment schedule using an unknown customer order id",
        "description": "",
        "id": ";cannot-ask-for-capture-a-customer-order-line-on-an-payment-schedule-using-an-unknown-customer-order-id",
        "after": [
          {
            "result": {
              "duration": 226000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 109000,
              "status": "passed"
            },
            "line": 173,
            "name": "I use an unknown customer order",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.unknownCustomerOrder()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 226050000,
              "status": "passed"
            },
            "line": 174,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data using an unknown customer order id",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                },
                {
                  "val": "an unknown customer order id",
                  "offset": 91
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1406551000,
              "status": "passed"
            },
            "line": 177,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401918000,
              "status": "passed"
            },
            "line": 178,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401905000,
              "status": "passed"
            },
            "line": 179,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 214000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 211000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 53000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:20.076Z",
        "before": [
          {
            "result": {
              "duration": 115000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 183,
        "name": "Cannot ask for capture a customer order line on an payment schedule using an unknown customer order line id",
        "description": "",
        "id": ";cannot-ask-for-capture-a-customer-order-line-on-an-payment-schedule-using-an-unknown-customer-order-line-id",
        "after": [
          {
            "result": {
              "duration": 133000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 783543000,
              "status": "passed"
            },
            "line": 184,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 204863000,
              "status": "passed"
            },
            "line": 189,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "unknown"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401727000,
              "status": "passed"
            },
            "line": 192,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1402220000,
              "status": "passed"
            },
            "line": 193,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402028000,
              "status": "passed"
            },
            "line": 194,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 166000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "30",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 141000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 43000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:20.432Z",
        "before": [
          {
            "result": {
              "duration": 65000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 196,
        "name": "Cannot ask for capture multiple customer order lines on an payment schedule using one unknown customer order line id",
        "description": "",
        "id": ";cannot-ask-for-capture-multiple-customer-order-lines-on-an-payment-schedule-using-one-unknown-customer-order-line-id",
        "after": [
          {
            "result": {
              "duration": 77000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 786435000,
              "status": "passed"
            },
            "line": 197,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 202853000,
              "status": "passed"
            },
            "line": 202,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "unknown"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 148000,
              "status": "passed"
            },
            "line": 206,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202323000,
              "status": "passed"
            },
            "line": 207,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1732000,
              "status": "passed"
            },
            "line": 210,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 222000,
              "status": "passed"
            },
            "line": 213,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Ask for capture",
    "description": "  This feature allows to capture the payment of a set of customer order lines.",
    "id": "ask-for-capture",
    "keyword": "Feature",
    "uri": "classpath:features/ask-for-capture.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 152000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 157000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:20.562Z",
        "before": [
          {
            "result": {
              "duration": 150000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 21,
        "name": "Ignores an order update without any refund in it",
        "description": "",
        "id": ";ignores-an-order-update-without-any-refund-in-it",
        "after": [
          {
            "result": {
              "duration": 104000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 1073647000,
              "status": "passed"
            },
            "line": 22,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 429248000,
              "status": "passed"
            },
            "line": 27,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 218564000,
              "status": "passed"
            },
            "line": 32,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401866000,
              "status": "passed"
            },
            "line": 34,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401484000,
              "status": "passed"
            },
            "line": 35,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401727000,
              "status": "passed"
            },
            "line": 36,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 75000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 86000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 29000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:21.634Z",
        "before": [
          {
            "result": {
              "duration": 50000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 40,
        "name": "Cannot ask for refund a customer order line on an payment schedule using an unknown customer order id",
        "description": "",
        "id": ";cannot-ask-for-refund-a-customer-order-line-on-an-payment-schedule-using-an-unknown-customer-order-id",
        "after": [
          {
            "result": {
              "duration": 71000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 22000,
              "status": "passed"
            },
            "line": 41,
            "name": "I use an unknown customer order",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.unknownCustomerOrder()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 243661000,
              "status": "passed"
            },
            "line": 42,
            "name": "the system handles an event Order with the following data using an unknown customer order id",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                },
                {
                  "val": "an unknown customer order id",
                  "offset": 64
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1403491000,
              "status": "passed"
            },
            "line": 45,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401840000,
              "status": "passed"
            },
            "line": 46,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402040000,
              "status": "passed"
            },
            "line": 47,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 275000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 334000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 107000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:22.924Z",
        "before": [
          {
            "result": {
              "duration": 141000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 51,
        "name": "Ask for refund an unknown customer order line",
        "description": "",
        "id": ";ask-for-refund-an-unknown-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 79000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 742393000,
              "status": "passed"
            },
            "line": 52,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 607089000,
              "status": "passed"
            },
            "line": 57,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 208784000,
              "status": "passed"
            },
            "line": 62,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "unknown"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401820000,
              "status": "passed"
            },
            "line": 65,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401264000,
              "status": "passed"
            },
            "line": 66,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401340000,
              "status": "passed"
            },
            "line": 67,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 114000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 139000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 40000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:25.283Z",
        "before": [
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 71,
        "name": "Ask for refund multiple customer order lines with one unknown customer order line",
        "description": "",
        "id": ";ask-for-refund-multiple-customer-order-lines-with-one-unknown-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 279000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 734225000,
              "status": "passed"
            },
            "line": 72,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 610946000,
              "status": "passed"
            },
            "line": 77,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204718000,
              "status": "passed"
            },
            "line": 82,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "unknown"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1402108000,
              "status": "passed"
            },
            "line": 86,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401390000,
              "status": "passed"
            },
            "line": 87,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402209000,
              "status": "passed"
            },
            "line": 88,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 109000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 90000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 29000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:26.093Z",
        "before": [
          {
            "result": {
              "duration": 48000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 92,
        "name": "Ask for refund multiple customer order lines",
        "description": "",
        "id": ";ask-for-refund-multiple-customer-order-lines",
        "after": [
          {
            "result": {
              "duration": 207000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 744805000,
              "status": "passed"
            },
            "line": 93,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 611614000,
              "status": "passed"
            },
            "line": 98,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 208796000,
              "status": "passed"
            },
            "line": 103,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 82000,
              "status": "passed"
            },
            "line": 108,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203634000,
              "status": "passed"
            },
            "line": 109,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 3398000,
              "status": "passed"
            },
            "line": 112,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 255000,
              "status": "passed"
            },
            "line": 115,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 78000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 252000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 163000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:26.496Z",
        "before": [
          {
            "result": {
              "duration": 292000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 117,
        "name": "Ask for refund a customer order line",
        "description": "",
        "id": ";ask-for-refund-a-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 73000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 714526000,
              "status": "passed"
            },
            "line": 118,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 611618000,
              "status": "passed"
            },
            "line": 123,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 209463000,
              "status": "passed"
            },
            "line": 128,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 148000,
              "status": "passed"
            },
            "line": 131,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201832000,
              "status": "passed"
            },
            "line": 132,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1181000,
              "status": "passed"
            },
            "line": 135,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 116000,
              "status": "passed"
            },
            "line": 138,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 106000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 159000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 70000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:27.877Z",
        "before": [
          {
            "result": {
              "duration": 83000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 140,
        "name": "Ask for capture two customer order lines from the same vendor",
        "description": "",
        "id": ";ask-for-capture-two-customer-order-lines-from-the-same-vendor",
        "after": [
          {
            "result": {
              "duration": 90000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 942878000,
              "status": "passed"
            },
            "line": 141,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 416374000,
              "status": "passed"
            },
            "line": 146,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203951000,
              "status": "passed"
            },
            "line": 151,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 224000,
              "status": "passed"
            },
            "line": 155,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202442000,
              "status": "passed"
            },
            "line": 156,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 873000,
              "status": "passed"
            },
            "line": 159,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 124000,
              "status": "passed"
            },
            "line": 162,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 785000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 332000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 60000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:28.245Z",
        "before": [
          {
            "result": {
              "duration": 185000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 164,
        "name": "Ask for capture multiple customer order lines from multiple vendors",
        "description": "",
        "id": ";ask-for-capture-multiple-customer-order-lines-from-multiple-vendors",
        "after": [
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 794005000,
              "status": "passed"
            },
            "line": 165,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 611432000,
              "status": "passed"
            },
            "line": 170,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 205131000,
              "status": "passed"
            },
            "line": 175,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 49000,
              "status": "passed"
            },
            "line": 179,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 975000,
              "status": "passed"
            },
            "line": 180,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1007000,
              "status": "passed"
            },
            "line": 183,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 144000,
              "status": "passed"
            },
            "line": 186,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 71000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 81000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 25000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:28.695Z",
        "before": [
          {
            "result": {
              "duration": 43000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 190,
        "name": "Ask for refund an already refunded customer order line",
        "description": "",
        "id": ";ask-for-refund-an-already-refunded-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 206000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 568021000,
              "status": "passed"
            },
            "line": 191,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 610678000,
              "status": "passed"
            },
            "line": 196,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 616705000,
              "status": "passed"
            },
            "line": 201,
            "name": "the following products have their refund accepted",
            "match": {
              "arguments": [
                {
                  "val": "refund",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 41
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204478000,
              "status": "passed"
            },
            "line": 204,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401569000,
              "status": "passed"
            },
            "line": 207,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1402278000,
              "status": "passed"
            },
            "line": 208,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402034000,
              "status": "passed"
            },
            "line": 209,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 66000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              },
              {
                "cells": [
                  "10",
                  "vendor3",
                  "unknown"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 86000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 24000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:29.651Z",
        "before": [
          {
            "result": {
              "duration": 40000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 213,
        "name": "Unable to ask for refund a customer order line",
        "description": "",
        "id": ";unable-to-ask-for-refund-a-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 323000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 520888000,
              "status": "passed"
            },
            "line": 214,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 606445000,
              "status": "passed"
            },
            "line": 219,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 110000,
              "status": "passed"
            },
            "line": 224,
            "name": "the following cashing business interventions will be return",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CaptureSteps.theFollowingCashingBusinessInterventionsWillBeReturn(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "code",
                  "errors"
                ]
              },
              {
                "cells": [
                  "product1",
                  "ERROR_PAYMENT_FUNCTIONAL",
                  "have a functional payment error"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203578000,
              "status": "passed"
            },
            "line": 227,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 112000,
              "status": "passed"
            },
            "line": 230,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203098000,
              "status": "passed"
            },
            "line": 231,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 3364000,
              "status": "passed"
            },
            "line": 234,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 7569000,
              "status": "passed"
            },
            "line": 237,
            "name": "a domain event CustomerOrderLinesPaymentRefundFailed is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentRefundFailed",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Ask for refund",
    "description": "  This feature allows to refund the payment of a set of customer order lines.",
    "id": "ask-for-refund",
    "keyword": "Feature",
    "uri": "classpath:features/ask-for-refund.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 64000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 71000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:29.866Z",
        "before": [
          {
            "result": {
              "duration": 46000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 19,
        "name": "Ask for validation of a payment schedule",
        "description": "",
        "id": ";ask-for-validation-of-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 56000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 40000,
              "status": "passed"
            },
            "line": 20,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 66574000,
              "status": "passed"
            },
            "line": 21,
            "name": "a payment schedule simulated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "simulated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 29642000,
              "status": "passed"
            },
            "line": 24,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 828000,
              "status": "passed"
            },
            "line": 25,
            "name": "the ask for validation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1555000,
              "status": "passed"
            },
            "line": 26,
            "name": "the ask for validation response match",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseMatch(java.lang.String,java.lang.String)"
            },
            "keyword": "And ",
            "doc_string": {
              "line": 27,
              "value": "{\n    \"paymentScheduleId\": \"${paymentSchedule.id}\",\n    \"vectorClock\": {\n        \"paymentSchedule\": {\n            \"id\": \"${paymentSchedule.id}\",\n            \"version\": 2\n        },\n        \"customerOrder\": {\n            \"id\": \"${cart.id}\",\n            \"version\": ${cart.version}\n        }\n    }\n}"
            }
          },
          {
            "result": {
              "duration": 202826000,
              "status": "passed"
            },
            "line": 42,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 19574000,
              "status": "passed"
            },
            "line": 45,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 7572000,
              "status": "passed"
            },
            "line": 49,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1069000,
              "status": "passed"
            },
            "line": 52,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201000,
              "status": "passed"
            },
            "line": 56,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 82000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 91000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:30.203Z",
        "before": [
          {
            "result": {
              "duration": 54000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 58,
        "name": "Ask for validation of a payment schedule when already asked before",
        "description": "",
        "id": ";ask-for-validation-of-a-payment-schedule-when-already-asked-before",
        "after": [
          {
            "result": {
              "duration": 693000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 30000,
              "status": "passed"
            },
            "line": 59,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 131803000,
              "status": "passed"
            },
            "line": 60,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 61373000,
              "status": "passed"
            },
            "line": 63,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 135000,
              "status": "passed"
            },
            "line": 64,
            "name": "the ask for validation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 615000,
              "status": "passed"
            },
            "line": 65,
            "name": "the ask for validation response match",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseMatch(java.lang.String,java.lang.String)"
            },
            "keyword": "And ",
            "doc_string": {
              "line": 66,
              "value": "{\n    \"paymentScheduleId\": \"${paymentSchedule.id}\",\n    \"vectorClock\": {\n        \"paymentSchedule\": {\n            \"id\": \"${paymentSchedule.id}\",\n            \"version\": 3\n        },\n        \"customerOrder\": {\n            \"id\": \"${cart.id}\",\n            \"version\": ${cart.version}\n        }\n    }\n}"
            }
          },
          {
            "result": {
              "duration": 201019000,
              "status": "passed"
            },
            "line": 81,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1555000,
              "status": "passed"
            },
            "line": 84,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1154000,
              "status": "passed"
            },
            "line": 88,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1164000,
              "status": "passed"
            },
            "line": 91,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 352000,
              "status": "passed"
            },
            "line": 95,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 155000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 133000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:30.610Z",
        "before": [
          {
            "result": {
              "duration": 119000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 97,
        "name": "Cannot ask for validation of a validated payment schedule",
        "description": "",
        "id": ";cannot-ask-for-validation-of-a-validated-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 129000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 56000,
              "status": "passed"
            },
            "line": 98,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 731189000,
              "status": "passed"
            },
            "line": 99,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 23634000,
              "status": "passed"
            },
            "line": 102,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 276000,
              "status": "passed"
            },
            "line": 103,
            "name": "the ask for validation response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 564000,
              "status": "passed"
            },
            "line": 104,
            "name": "the ask for validation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "403",
                  "INVALIDATE_STATE_ISSUE",
                  "ask for validation can not be done.",
                  "ask for validation cannot be done on a payment schedule status: VALIDATED"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401580000,
              "status": "passed"
            },
            "line": 107,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402126000,
              "status": "passed"
            },
            "line": 108,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401803000,
              "status": "passed"
            },
            "line": 109,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 315000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 564000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:31.066Z",
        "before": [
          {
            "result": {
              "duration": 174000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 111,
        "name": "Cannot ask for validation of an unvalidated payment schedule",
        "description": "",
        "id": ";cannot-ask-for-validation-of-an-unvalidated-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 214000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 168000,
              "status": "passed"
            },
            "line": 112,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 214507000,
              "status": "passed"
            },
            "line": 113,
            "name": "a payment schedule unvalidated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "unvalidated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 33554000,
              "status": "passed"
            },
            "line": 116,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 220000,
              "status": "passed"
            },
            "line": 117,
            "name": "the ask for validation response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 7135000,
              "status": "passed"
            },
            "line": 118,
            "name": "the ask for validation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "403",
                  "INVALIDATE_STATE_ISSUE",
                  "ask for validation can not be done.",
                  "ask for validation cannot be done on a payment schedule status: UNVALIDATED"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401436000,
              "status": "passed"
            },
            "line": 121,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402048000,
              "status": "passed"
            },
            "line": 122,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402573000,
              "status": "passed"
            },
            "line": 123,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 775000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 262000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:31.215Z",
        "before": [
          {
            "result": {
              "duration": 98000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 127,
        "name": "Cannot ask for validation of a payment schedule without invoice address",
        "description": "",
        "id": ";cannot-ask-for-validation-of-a-payment-schedule-without-invoice-address",
        "after": [
          {
            "result": {
              "duration": 263000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 88000,
              "status": "passed"
            },
            "line": 128,
            "name": "I\u0027m an authenticated customer without a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithoutAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 72980000,
              "status": "passed"
            },
            "line": 129,
            "name": "a payment schedule simulated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "simulated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 32665000,
              "status": "passed"
            },
            "line": 132,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 182000,
              "status": "passed"
            },
            "line": 133,
            "name": "the ask for validation response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 766000,
              "status": "passed"
            },
            "line": 134,
            "name": "the ask for validation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "403",
                  "INVOICE_ADDRESS_MISSING",
                  "the invoice address does not exist.",
                  "The invoice address related to the payment schedule with id ${paymentSchedule.id} does not exist."
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401430000,
              "status": "passed"
            },
            "line": 137,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402245000,
              "status": "passed"
            },
            "line": 138,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402785000,
              "status": "passed"
            },
            "line": 139,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 50000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:34.910Z",
        "before": [
          {
            "result": {
              "duration": 35000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 143,
        "name": "Cannot ask for validation of a payment schedule using an unknown customer order",
        "description": "",
        "id": ";cannot-ask-for-validation-of-a-payment-schedule-using-an-unknown-customer-order",
        "after": [
          {
            "result": {
              "duration": 190000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 22000,
              "status": "passed"
            },
            "line": 144,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 58636000,
              "status": "passed"
            },
            "line": 145,
            "name": "a payment schedule simulated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "simulated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 33727000,
              "status": "passed"
            },
            "line": 148,
            "name": "I ask for validation on a missing cashing cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation_on_a_missing_cashing_cart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 164000,
              "status": "passed"
            },
            "line": 149,
            "name": "the ask for validation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 432000,
              "status": "passed"
            },
            "line": 150,
            "name": "the ask for validation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "400",
                  "DEPENDENCY_NOT_FOUND_ISSUE",
                  "a dependency cannot be found",
                  "the customerOrder id ${cart.id} provided can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401267000,
              "status": "passed"
            },
            "line": 153,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402298000,
              "status": "passed"
            },
            "line": 154,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402094000,
              "status": "passed"
            },
            "line": 155,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 222000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 262000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:35.551Z",
        "before": [
          {
            "result": {
              "duration": 121000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 159,
        "name": "Cannot ask for validation of a validated payment schedule is already paid",
        "description": "",
        "id": ";cannot-ask-for-validation-of-a-validated-payment-schedule-is-already-paid",
        "after": [
          {
            "result": {
              "duration": 202000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 85000,
              "status": "passed"
            },
            "line": 160,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 585418000,
              "status": "passed"
            },
            "line": 161,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 39573000,
              "status": "passed"
            },
            "line": 164,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 126000,
              "status": "passed"
            },
            "line": 165,
            "name": "the ask for validation response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 445000,
              "status": "passed"
            },
            "line": 166,
            "name": "the ask for validation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "403",
                  "INVALIDATE_STATE_ISSUE",
                  "ask for validation can not be done.",
                  "ask for validation cannot be done on a payment schedule status: VALIDATED"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401758000,
              "status": "passed"
            },
            "line": 169,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401819000,
              "status": "passed"
            },
            "line": 170,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402209000,
              "status": "passed"
            },
            "line": 171,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Ask for validation",
    "description": "  This feature allow to start the validation of a payment schedule.",
    "id": "ask-for-validation",
    "keyword": "Feature",
    "uri": "classpath:features/ask-validation.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 240000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 217000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:35.555Z",
        "before": [
          {
            "result": {
              "duration": 109000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 44,
        "name": "A validated payment feedback should send a PaymentSchedulePaymentAuthorized message",
        "description": "",
        "id": ";a-validated-payment-feedback-should-send-a-paymentschedulepaymentauthorized-message;;2",
        "after": [
          {
            "result": {
              "duration": 124000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 146000,
              "status": "passed"
            },
            "line": 21,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 192389000,
              "status": "passed"
            },
            "line": 22,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204217000,
              "status": "passed"
            },
            "line": 25,
            "name": "the system handles an authorization feedback on status \"PENDING_CAPTURE\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_CAPTURE\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 79000,
              "status": "passed"
            },
            "line": 29,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1369000,
              "status": "passed"
            },
            "line": 30,
            "name": "a domain event PaymentSchedulePaymentAuthorized is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1515000,
              "status": "passed"
            },
            "line": 31,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1163000,
              "status": "passed"
            },
            "line": 35,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1541000,
              "status": "passed"
            },
            "line": 38,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 185000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 168000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:35.582Z",
        "before": [
          {
            "result": {
              "duration": 146000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 45,
        "name": "A validated payment feedback should send a PaymentSchedulePaymentAuthorized message",
        "description": "",
        "id": ";a-validated-payment-feedback-should-send-a-paymentschedulepaymentauthorized-message;;3",
        "after": [
          {
            "result": {
              "duration": 99000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 50000,
              "status": "passed"
            },
            "line": 21,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 157286000,
              "status": "passed"
            },
            "line": 22,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 205319000,
              "status": "passed"
            },
            "line": 25,
            "name": "the system handles an authorization feedback on status \"PENDING_PSP_APPROVAL\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_PSP_APPROVAL\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 92000,
              "status": "passed"
            },
            "line": 29,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 2415000,
              "status": "passed"
            },
            "line": 30,
            "name": "a domain event PaymentSchedulePaymentAuthorized is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1223000,
              "status": "passed"
            },
            "line": 31,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1243000,
              "status": "passed"
            },
            "line": 35,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1094000,
              "status": "passed"
            },
            "line": 38,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 108000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 117000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:35.960Z",
        "before": [
          {
            "result": {
              "duration": 92000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 72,
        "name": "A pending payment should send a PaymentSchedulePaymentPending message",
        "description": "",
        "id": ";a-pending-payment-should-send-a-paymentschedulepaymentpending-message;;2",
        "after": [
          {
            "result": {
              "duration": 174000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "line": 49,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 154407000,
              "status": "passed"
            },
            "line": 50,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 205138000,
              "status": "passed"
            },
            "line": 53,
            "name": "the system handles an authorization feedback on status \"PENDING_AUTHORIZATION\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_AUTHORIZATION\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 60000,
              "status": "passed"
            },
            "line": 57,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 204407000,
              "status": "passed"
            },
            "line": 58,
            "name": "a domain event PaymentSchedulePaymentPended is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentPended",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2878000,
              "status": "passed"
            },
            "line": 59,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2618000,
              "status": "passed"
            },
            "line": 63,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 2698000,
              "status": "passed"
            },
            "line": 66,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 185000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 139000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:35.967Z",
        "before": [
          {
            "result": {
              "duration": 134000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 89,
        "name": "A refused payment do nothing is no pending payment before",
        "description": "",
        "id": ";a-refused-payment-do-nothing-is-no-pending-payment-before;;2",
        "after": [
          {
            "result": {
              "duration": 185000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 48000,
              "status": "passed"
            },
            "line": 76,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 176967000,
              "status": "passed"
            },
            "line": 77,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204468000,
              "status": "passed"
            },
            "line": 80,
            "name": "the system handles an authorization feedback on status \"PAYMENT_FAILURE\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PAYMENT_FAILURE\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401735000,
              "status": "passed"
            },
            "line": 84,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401964000,
              "status": "passed"
            },
            "line": 85,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402150000,
              "status": "passed"
            },
            "line": 86,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 206000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 273000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:36.559Z",
        "before": [
          {
            "result": {
              "duration": 134000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 90,
        "name": "A refused payment do nothing is no pending payment before",
        "description": "",
        "id": ";a-refused-payment-do-nothing-is-no-pending-payment-before;;3",
        "after": [
          {
            "result": {
              "duration": 176000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 99000,
              "status": "passed"
            },
            "line": 76,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 86505000,
              "status": "passed"
            },
            "line": 77,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202848000,
              "status": "passed"
            },
            "line": 80,
            "name": "the system handles an authorization feedback on status \"CANCELLED\"",
            "match": {
              "arguments": [
                {
                  "val": "\"CANCELLED\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401975000,
              "status": "passed"
            },
            "line": 84,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402107000,
              "status": "passed"
            },
            "line": 85,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402407000,
              "status": "passed"
            },
            "line": 86,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 176000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 278000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:39.229Z",
        "before": [
          {
            "result": {
              "duration": 113000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 91,
        "name": "A refused payment do nothing is no pending payment before",
        "description": "",
        "id": ";a-refused-payment-do-nothing-is-no-pending-payment-before;;4",
        "after": [
          {
            "result": {
              "duration": 77000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 83000,
              "status": "passed"
            },
            "line": 76,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 112686000,
              "status": "passed"
            },
            "line": 77,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202326000,
              "status": "passed"
            },
            "line": 80,
            "name": "the system handles an authorization feedback on status \"PAYMENT_ABORT\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PAYMENT_ABORT\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401885000,
              "status": "passed"
            },
            "line": 84,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401256000,
              "status": "passed"
            },
            "line": 85,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401912000,
              "status": "passed"
            },
            "line": 86,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 188000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 753000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:40.406Z",
        "before": [
          {
            "result": {
              "duration": 200000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 122,
        "name": "A validated payment after a pending should send a PaymentSchedulePaymentPending message",
        "description": "",
        "id": ";a-validated-payment-after-a-pending-should-send-a-paymentschedulepaymentpending-message;;2",
        "after": [
          {
            "result": {
              "duration": 111000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 38000,
              "status": "passed"
            },
            "line": 95,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 89227000,
              "status": "passed"
            },
            "line": 96,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202211000,
              "status": "passed"
            },
            "line": 99,
            "name": "the following products are in \"PENDING_AUTHORIZATION\" status",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_AUTHORIZATION\"",
                  "offset": 30
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsAreInStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203580000,
              "status": "passed"
            },
            "line": 103,
            "name": "the system handles an authorization feedback on status \"PENDING_CAPTURE\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_CAPTURE\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 68000,
              "status": "passed"
            },
            "line": 107,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 203145000,
              "status": "passed"
            },
            "line": 108,
            "name": "a domain event PaymentSchedulePendingPaymentAuthorized is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePendingPaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2224000,
              "status": "passed"
            },
            "line": 109,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1879000,
              "status": "passed"
            },
            "line": 113,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1325000,
              "status": "passed"
            },
            "line": 116,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 355000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 387000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:40.576Z",
        "before": [
          {
            "result": {
              "duration": 158000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 123,
        "name": "A validated payment after a pending should send a PaymentSchedulePaymentPending message",
        "description": "",
        "id": ";a-validated-payment-after-a-pending-should-send-a-paymentschedulepaymentpending-message;;3",
        "after": [
          {
            "result": {
              "duration": 160000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 142000,
              "status": "passed"
            },
            "line": 95,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 98396000,
              "status": "passed"
            },
            "line": 96,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 403085000,
              "status": "passed"
            },
            "line": 99,
            "name": "the following products are in \"PENDING_AUTHORIZATION\" status",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_AUTHORIZATION\"",
                  "offset": 30
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsAreInStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 207508000,
              "status": "passed"
            },
            "line": 103,
            "name": "the system handles an authorization feedback on status \"PENDING_PSP_APPROVAL\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_PSP_APPROVAL\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 85000,
              "status": "passed"
            },
            "line": 107,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 720000,
              "status": "passed"
            },
            "line": 108,
            "name": "a domain event PaymentSchedulePendingPaymentAuthorized is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePendingPaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 918000,
              "status": "passed"
            },
            "line": 109,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1072000,
              "status": "passed"
            },
            "line": 113,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1146000,
              "status": "passed"
            },
            "line": 116,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 175000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 211000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:41.077Z",
        "before": [
          {
            "result": {
              "duration": 117000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 154,
        "name": "send PaymentSchedulePaymentPendingRejected when a refused payment is receive after a pending payment",
        "description": "",
        "id": ";send-paymentschedulepaymentpendingrejected-when-a-refused-payment-is-receive-after-a-pending-payment;;2",
        "after": [
          {
            "result": {
              "duration": 49000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 94000,
              "status": "passed"
            },
            "line": 127,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 141057000,
              "status": "passed"
            },
            "line": 128,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 403841000,
              "status": "passed"
            },
            "line": 131,
            "name": "the following products are in \"PENDING_AUTHORIZATION\" status",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_AUTHORIZATION\"",
                  "offset": 30
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsAreInStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202223000,
              "status": "passed"
            },
            "line": 135,
            "name": "the system handles an authorization feedback on status \"PAYMENT_FAILURE\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PAYMENT_FAILURE\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 164000,
              "status": "passed"
            },
            "line": 139,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 206362000,
              "status": "passed"
            },
            "line": 140,
            "name": "a domain event PaymentSchedulePendingPaymentRejected is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePendingPaymentRejected",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 811000,
              "status": "passed"
            },
            "line": 141,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 626000,
              "status": "passed"
            },
            "line": 145,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 482000,
              "status": "passed"
            },
            "line": 148,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 136000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 153000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:41.123Z",
        "before": [
          {
            "result": {
              "duration": 109000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 155,
        "name": "send PaymentSchedulePaymentPendingRejected when a refused payment is receive after a pending payment",
        "description": "",
        "id": ";send-paymentschedulepaymentpendingrejected-when-a-refused-payment-is-receive-after-a-pending-payment;;3",
        "after": [
          {
            "result": {
              "duration": 92000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 100000,
              "status": "passed"
            },
            "line": 127,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 130971000,
              "status": "passed"
            },
            "line": 128,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 403892000,
              "status": "passed"
            },
            "line": 131,
            "name": "the following products are in \"PENDING_AUTHORIZATION\" status",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_AUTHORIZATION\"",
                  "offset": 30
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsAreInStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202999000,
              "status": "passed"
            },
            "line": 135,
            "name": "the system handles an authorization feedback on status \"CANCELLED\"",
            "match": {
              "arguments": [
                {
                  "val": "\"CANCELLED\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 130000,
              "status": "passed"
            },
            "line": 139,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 973000,
              "status": "passed"
            },
            "line": 140,
            "name": "a domain event PaymentSchedulePendingPaymentRejected is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePendingPaymentRejected",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1030000,
              "status": "passed"
            },
            "line": 141,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 925000,
              "status": "passed"
            },
            "line": 145,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 989000,
              "status": "passed"
            },
            "line": 148,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 63000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 54000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:41.297Z",
        "before": [
          {
            "result": {
              "duration": 79000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 156,
        "name": "send PaymentSchedulePaymentPendingRejected when a refused payment is receive after a pending payment",
        "description": "",
        "id": ";send-paymentschedulepaymentpendingrejected-when-a-refused-payment-is-receive-after-a-pending-payment;;4",
        "after": [
          {
            "result": {
              "duration": 53000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 21000,
              "status": "passed"
            },
            "line": 127,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 120763000,
              "status": "passed"
            },
            "line": 128,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203649000,
              "status": "passed"
            },
            "line": 131,
            "name": "the following products are in \"PENDING_AUTHORIZATION\" status",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_AUTHORIZATION\"",
                  "offset": 30
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsAreInStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203177000,
              "status": "passed"
            },
            "line": 135,
            "name": "the system handles an authorization feedback on status \"PAYMENT_ABORT\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PAYMENT_ABORT\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 163000,
              "status": "passed"
            },
            "line": 139,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 206867000,
              "status": "passed"
            },
            "line": 140,
            "name": "a domain event PaymentSchedulePendingPaymentRejected is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePendingPaymentRejected",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 848000,
              "status": "passed"
            },
            "line": 141,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 8793000,
              "status": "passed"
            },
            "line": 145,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 686000,
              "status": "passed"
            },
            "line": 148,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 67000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 76000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:41.875Z",
        "before": [
          {
            "result": {
              "duration": 51000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 183,
        "name": "A validated payment feedback should set the rank 1 with TO_COLLECT status",
        "description": "",
        "id": ";a-validated-payment-feedback-should-set-the-rank-1-with-to-collect-status;;2",
        "after": [
          {
            "result": {
              "duration": 77000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 29000,
              "status": "passed"
            },
            "line": 160,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 122789000,
              "status": "passed"
            },
            "line": 161,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 205860000,
              "status": "passed"
            },
            "line": 165,
            "name": "the system handles an authorization feedback on status \"PENDING_CAPTURE\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_CAPTURE\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "product2",
                  "15"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              },
              {
                "cells": [
                  "serviceLevelPickUpInStore",
                  "0"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 224000,
              "status": "passed"
            },
            "line": 171,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1955000,
              "status": "passed"
            },
            "line": 172,
            "name": "a domain event PaymentSchedulePaymentAuthorized is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1138000,
              "status": "passed"
            },
            "line": 173,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1422000,
              "status": "passed"
            },
            "line": 177,
            "name": "this event has the following schedules for rank 1 with status TO_COLLECT and remainingAmount 15",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "15",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product2",
                  "product",
                  "15"
                ]
              },
              {
                "cells": [
                  "serviceLevelPickUpInStore",
                  "delivery",
                  "0"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 122000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 86000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:42.040Z",
        "before": [
          {
            "result": {
              "duration": 111000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 184,
        "name": "A validated payment feedback should set the rank 1 with TO_COLLECT status",
        "description": "",
        "id": ";a-validated-payment-feedback-should-set-the-rank-1-with-to-collect-status;;3",
        "after": [
          {
            "result": {
              "duration": 119000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario Outline",
        "steps": [
          {
            "result": {
              "duration": 31000,
              "status": "passed"
            },
            "line": 160,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 144315000,
              "status": "passed"
            },
            "line": 161,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204703000,
              "status": "passed"
            },
            "line": 165,
            "name": "the system handles an authorization feedback on status \"PENDING_PSP_APPROVAL\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_PSP_APPROVAL\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "product2",
                  "15"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              },
              {
                "cells": [
                  "serviceLevelPickUpInStore",
                  "0"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 87000,
              "status": "passed"
            },
            "line": 171,
            "name": "the payment schedule version has been increase by 1",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 50
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleVersionHasBeenIncreaseBy1(java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 201262000,
              "status": "passed"
            },
            "line": 172,
            "name": "a domain event PaymentSchedulePaymentAuthorized is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1398000,
              "status": "passed"
            },
            "line": 173,
            "name": "this event has the following schedules for rank 0 with status TO_COLLECT and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "product",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "delivery",
                  "5"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1297000,
              "status": "passed"
            },
            "line": 177,
            "name": "this event has the following schedules for rank 1 with status TO_COLLECT and remainingAmount 15",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 48
                },
                {
                  "val": "TO_COLLECT",
                  "offset": 62
                },
                {
                  "val": "15",
                  "offset": 93
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "reference id",
                  "reference type",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product2",
                  "product",
                  "15"
                ]
              },
              {
                "cells": [
                  "serviceLevelPickUpInStore",
                  "delivery",
                  "0"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 58000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 75000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:42.053Z",
        "before": [
          {
            "result": {
              "duration": 48000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 187,
        "name": "Should send a PaymentIssueRaised if the authorized amount is different of the schedule amount",
        "description": "",
        "id": ";should-send-a-paymentissueraised-if-the-authorized-amount-is-different-of-the-schedule-amount",
        "after": [
          {
            "result": {
              "duration": 153000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 27000,
              "status": "passed"
            },
            "line": 188,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 135535000,
              "status": "passed"
            },
            "line": 189,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 206306000,
              "status": "passed"
            },
            "line": 192,
            "name": "the system handles an authorization feedback on status \"PENDING_CAPTURE\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_CAPTURE\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "59"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 202528000,
              "status": "passed"
            },
            "line": 196,
            "name": "a domain event PaymentSchedulePaymentIssueRaised is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentIssueRaised",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title"
                ]
              },
              {
                "cells": [
                  "AUTHORIZATION_FEEDBACK_FOR_WRONG_AMOUNTS",
                  "an authorization feedback has been received but the amount is wrong for an offer line"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 361000,
              "status": "passed"
            },
            "line": 199,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 172000,
              "status": "passed"
            },
            "line": 200,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 208000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 118000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:42.217Z",
        "before": [
          {
            "result": {
              "duration": 75000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 202,
        "name": "Should send a PaymentIssueRaised if the customer order id has not the same version has payment scheduler",
        "description": "",
        "id": ";should-send-a-paymentissueraised-if-the-customer-order-id-has-not-the-same-version-has-payment-scheduler",
        "after": [
          {
            "result": {
              "duration": 69000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "line": 203,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 150643000,
              "status": "passed"
            },
            "line": 204,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 206985000,
              "status": "passed"
            },
            "line": 207,
            "name": "the system handles an authorization feedback using an outdated customer order id",
            "match": {
              "arguments": [
                {
                  "val": "an outdated customer order id",
                  "offset": 51
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatusUsingAnOutdatedCustomerOrderId(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1129000,
              "status": "passed"
            },
            "line": 211,
            "name": "a domain event PaymentSchedulePaymentIssueRaised is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentIssueRaised",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title"
                ]
              },
              {
                "cells": [
                  "AUTHORIZATION_FEEDBACK_FOR_OUTDATED_CUSTOMER_ORDER",
                  "an authorization feedback has been received for an outdated customer order"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 206000,
              "status": "passed"
            },
            "line": 214,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 702000,
              "status": "passed"
            },
            "line": 215,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 9,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 126000,
              "status": "passed"
            },
            "line": 10,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 196000,
              "status": "passed"
            },
            "line": 14,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:42.589Z",
        "before": [
          {
            "result": {
              "duration": 179000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 217,
        "name": "Should send a PaymentIssueRaised if the cashing cart id is wront",
        "description": "",
        "id": ";should-send-a-paymentissueraised-if-the-cashing-cart-id-is-wront",
        "after": [
          {
            "result": {
              "duration": 125000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 76000,
              "status": "passed"
            },
            "line": 218,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 235787000,
              "status": "passed"
            },
            "line": 219,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 208300000,
              "status": "passed"
            },
            "line": 222,
            "name": "the system handles an authorization feedback using a wrong cart id",
            "match": {
              "arguments": [
                {
                  "val": "a wrong cart id",
                  "offset": 51
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatusUsingAnOutdatedCustomerOrderId(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 201946000,
              "status": "passed"
            },
            "line": 226,
            "name": "a domain event PaymentSchedulePaymentIssueRaised is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentIssueRaised",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title"
                ]
              },
              {
                "cells": [
                  "AUTHORIZATION_FEEDBACK_FOR_WRONG_CARTS",
                  "an authorization feedback has been received for a wrong cashing cart"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 510000,
              "status": "passed"
            },
            "line": 229,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 271000,
              "status": "passed"
            },
            "line": 230,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Authorization feedback",
    "description": "  This feature allow to receive authorization feedback from cashing and send event like `PaymentSchedulePaymentValidated` to say tempo-composer that payment is OK.\n\n  Case not managed now:\n  - partial payment (a product paid on multiple schedule) example 50% on command 50% on delivery\n  - an authorization with only some products of a schedule rank",
    "id": "authorization-feedback",
    "keyword": "Feature",
    "uri": "classpath:features/authorization-feedback.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 179000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 282000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 98000,
              "status": "passed"
            },
            "line": 16,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:42.610Z",
        "before": [
          {
            "result": {
              "duration": 195000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 20,
        "name": "Get capture feedback after capture all customer order lines on a payment schedule",
        "description": "",
        "id": ";get-capture-feedback-after-capture-all-customer-order-lines-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 145000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 830487000,
              "status": "passed"
            },
            "line": 21,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 203166000,
              "status": "passed"
            },
            "line": 26,
            "name": "the following products have their payment pending",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "pending",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "product2",
                  "40"
                ]
              },
              {
                "cells": [
                  "product3",
                  "50"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 207404000,
              "status": "passed"
            },
            "line": 31,
            "name": "the system handles an event PaymentUpdated using a capture requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a capture requested feedback",
                  "offset": 49
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventUsing(java.lang.String,java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 51000,
              "status": "passed"
            },
            "line": 32,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201696000,
              "status": "passed"
            },
            "line": 33,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1243000,
              "status": "passed"
            },
            "line": 36,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2174000,
              "status": "passed"
            },
            "line": 39,
            "name": "a domain event CustomerOrderLinesPaymentCaptured is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentCaptured",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              },
              {
                "cells": [
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 131000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 199000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 93000,
              "status": "passed"
            },
            "line": 16,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:42.614Z",
        "before": [
          {
            "result": {
              "duration": 89000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 48,
        "name": "Get capture feedback after capture a customer order line on a payment schedule",
        "description": "",
        "id": ";get-capture-feedback-after-capture-a-customer-order-line-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 120000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 830502000,
              "status": "passed"
            },
            "line": 49,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 203063000,
              "status": "passed"
            },
            "line": 54,
            "name": "the following products have their payment pending",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "pending",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204605000,
              "status": "passed"
            },
            "line": 57,
            "name": "the system handles an event PaymentUpdated using a capture requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a capture requested feedback",
                  "offset": 49
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventUsing(java.lang.String,java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 67000,
              "status": "passed"
            },
            "line": 58,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201072000,
              "status": "passed"
            },
            "line": 59,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 517000,
              "status": "passed"
            },
            "line": 62,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2077000,
              "status": "passed"
            },
            "line": 65,
            "name": "a domain event CustomerOrderLinesPaymentCaptured is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentCaptured",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 244000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 488000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 126000,
              "status": "passed"
            },
            "line": 16,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:43.258Z",
        "before": [
          {
            "result": {
              "duration": 161000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 72,
        "name": "Get capture feedback on a rejected customer order line",
        "description": "",
        "id": ";get-capture-feedback-on-a-rejected-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 79000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 768359000,
              "status": "passed"
            },
            "line": 73,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 403882000,
              "status": "passed"
            },
            "line": 78,
            "name": "the following products have their payment rejected",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "rejected",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202453000,
              "status": "passed"
            },
            "line": 81,
            "name": "the system handles an event PaymentUpdated using a capture requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a capture requested feedback",
                  "offset": 49
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventUsing(java.lang.String,java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401399000,
              "status": "passed"
            },
            "line": 82,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401262000,
              "status": "passed"
            },
            "line": 83,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401119000,
              "status": "passed"
            },
            "line": 84,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Capture feedback",
    "description": "  This feature allows to get capture feedback of a set of customer order lines.",
    "id": "capture-feedback",
    "keyword": "Feature",
    "uri": "classpath:features/capture-feedback.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "start_timestamp": "2020-07-12T13:24:43.759Z",
        "before": [
          {
            "result": {
              "duration": 127000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 3,
        "name": "simulation v1 + authorization v1 + ask capture v2 + capture feedback v2 + ask refund v2 + refund feedback v1",
        "description": "",
        "id": "a-full-scenario-to-test-v1-/-v2-compatibility;simulation-v1-+-authorization-v1-+-ask-capture-v2-+-capture-feedback-v2-+-ask-refund-v2-+-refund-feedback-v1",
        "after": [
          {
            "result": {
              "duration": 77000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 104000,
              "status": "passed"
            },
            "line": 4,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 66000,
              "status": "passed"
            },
            "line": 7,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "line": 10,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 23000,
              "status": "passed"
            },
            "line": 11,
            "name": "I\u0027m an anonymous customer",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iamAnAnonymousCustomer()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "line": 12,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 43944000,
              "status": "passed"
            },
            "line": 15,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 169000,
              "status": "passed"
            },
            "line": 16,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 65107000,
              "status": "passed"
            },
            "line": 17,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 18,
              "value": "  {\n    \"title\": \"Mr\",\n    \"lastName\": \"Dupont\",\n    \"firstName\": \"Henri\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 150000,
              "status": "passed"
            },
            "line": 35,
            "name": "the set invoice address response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 39007000,
              "status": "passed"
            },
            "line": 36,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 167000,
              "status": "passed"
            },
            "line": 37,
            "name": "the ask for validation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 45480000,
              "status": "passed"
            },
            "line": 38,
            "name": "I refresh the payment schedule",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentSchedule()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 123000,
              "status": "passed"
            },
            "line": 39,
            "name": "the refresh response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 206463000,
              "status": "passed"
            },
            "line": 40,
            "name": "the system handles a global authorization feedback OK",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAGlobalAuthorizationFeedbackOnStatus(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 133000,
              "status": "passed"
            },
            "line": 43,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 201106000,
              "status": "passed"
            },
            "line": 44,
            "name": "a domain event PaymentSchedulePaymentAuthorized is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "AUTHORIZED"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 202046000,
              "status": "passed"
            },
            "line": 47,
            "name": "the system handles an event RetrieveCustomerOrder with the following data",
            "match": {
              "arguments": [
                {
                  "val": "RetrieveCustomerOrder",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 150000,
              "status": "passed"
            },
            "line": 50,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202360000,
              "status": "passed"
            },
            "line": 51,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 87000,
              "status": "passed"
            },
            "line": 54,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201200000,
              "status": "passed"
            },
            "line": 55,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "AUTHORIZED"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 202739000,
              "status": "passed"
            },
            "line": 58,
            "name": "the system handles an event PaymentUpdated using a capture requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a capture requested feedback",
                  "offset": 49
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventUsing(java.lang.String,java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 49000,
              "status": "passed"
            },
            "line": 59,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 646000,
              "status": "passed"
            },
            "line": 60,
            "name": "a domain event CustomerOrderLinesPaymentCaptured is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentCaptured",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204941000,
              "status": "passed"
            },
            "line": 64,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 55000,
              "status": "passed"
            },
            "line": 67,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200831000,
              "status": "passed"
            },
            "line": 68,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "AUTHORIZED"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202326000,
              "status": "passed"
            },
            "line": 71,
            "name": "the system handles an event PaymentUpdated with the following data using a refund requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a refund requested feedback",
                  "offset": 73
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 2364000,
              "status": "passed"
            },
            "line": 74,
            "name": "a domain event CustomerOrderLinesPaymentRefunded is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentRefunded",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:44.064Z",
        "before": [
          {
            "result": {
              "duration": 63000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 78,
        "name": "simulation v2 + authorization v1 + + ask capture v2 + capture feedback v2 + ask refund v2 + refund feedback v1",
        "description": "",
        "id": "a-full-scenario-to-test-v1-/-v2-compatibility;simulation-v2-+-authorization-v1-+-+-ask-capture-v2-+-capture-feedback-v2-+-ask-refund-v2-+-refund-feedback-v1",
        "after": [
          {
            "result": {
              "duration": 64000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 100000,
              "status": "passed"
            },
            "line": 79,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 93000,
              "status": "passed"
            },
            "line": 82,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 18000,
              "status": "passed"
            },
            "line": 85,
            "name": "I\u0027m an anonymous customer",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iamAnAnonymousCustomer()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 55000,
              "status": "passed"
            },
            "line": 86,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 44126000,
              "status": "passed"
            },
            "line": 89,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 173000,
              "status": "passed"
            },
            "line": 90,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 47803000,
              "status": "passed"
            },
            "line": 91,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 92,
              "value": "  {\n    \"title\": \"Mr\",\n    \"lastName\": \"Dupont\",\n    \"firstName\": \"Henri\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 149000,
              "status": "passed"
            },
            "line": 109,
            "name": "the set invoice address response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 53795000,
              "status": "passed"
            },
            "line": 110,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 129000,
              "status": "passed"
            },
            "line": 111,
            "name": "the ask for validation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 42730000,
              "status": "passed"
            },
            "line": 112,
            "name": "I refresh the payment schedule",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentSchedule()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 77000,
              "status": "passed"
            },
            "line": 113,
            "name": "the refresh response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 203327000,
              "status": "passed"
            },
            "line": 114,
            "name": "the system handles a global authorization feedback OK",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAGlobalAuthorizationFeedbackOnStatus(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 46000,
              "status": "passed"
            },
            "line": 117,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200747000,
              "status": "passed"
            },
            "line": 118,
            "name": "a domain event PaymentSchedulePaymentAuthorized is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "AUTHORIZED"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 202048000,
              "status": "passed"
            },
            "line": 121,
            "name": "the system handles an event RetrieveCustomerOrder with the following data",
            "match": {
              "arguments": [
                {
                  "val": "RetrieveCustomerOrder",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1046000,
              "status": "passed"
            },
            "line": 124,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203973000,
              "status": "passed"
            },
            "line": 125,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 32000,
              "status": "passed"
            },
            "line": 128,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200960000,
              "status": "passed"
            },
            "line": 129,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "AUTHORIZED"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 202533000,
              "status": "passed"
            },
            "line": 132,
            "name": "the system handles an event PaymentUpdated using a capture requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a capture requested feedback",
                  "offset": 49
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventUsing(java.lang.String,java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 80000,
              "status": "passed"
            },
            "line": 133,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1314000,
              "status": "passed"
            },
            "line": 134,
            "name": "a domain event CustomerOrderLinesPaymentCaptured is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentCaptured",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 206171000,
              "status": "passed"
            },
            "line": 138,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 32000,
              "status": "passed"
            },
            "line": 141,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200680000,
              "status": "passed"
            },
            "line": 142,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "AUTHORIZED"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 202580000,
              "status": "passed"
            },
            "line": 145,
            "name": "the system handles an event PaymentUpdated with the following data using a refund requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a refund requested feedback",
                  "offset": 73
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 527000,
              "status": "passed"
            },
            "line": 148,
            "name": "a domain event CustomerOrderLinesPaymentRefunded is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentRefunded",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:44.066Z",
        "before": [
          {
            "result": {
              "duration": 66000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 152,
        "name": "simulation v2 + authorization v2 + ask capture v2 + capture feedback v2 + ask refund v2 + refund feedback v1",
        "description": "",
        "id": "a-full-scenario-to-test-v1-/-v2-compatibility;simulation-v2-+-authorization-v2-+-ask-capture-v2-+-capture-feedback-v2-+-ask-refund-v2-+-refund-feedback-v1",
        "after": [
          {
            "result": {
              "duration": 95000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 104000,
              "status": "passed"
            },
            "line": 153,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 71000,
              "status": "passed"
            },
            "line": 156,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 25000,
              "status": "passed"
            },
            "line": 159,
            "name": "I\u0027m an anonymous customer",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iamAnAnonymousCustomer()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 84000,
              "status": "passed"
            },
            "line": 160,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 49077000,
              "status": "passed"
            },
            "line": 163,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 109000,
              "status": "passed"
            },
            "line": 164,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 48862000,
              "status": "passed"
            },
            "line": 165,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 166,
              "value": "  {\n    \"title\": \"Mr\",\n    \"lastName\": \"Dupont\",\n    \"firstName\": \"Henri\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 118000,
              "status": "passed"
            },
            "line": 183,
            "name": "the set invoice address response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 50941000,
              "status": "passed"
            },
            "line": 184,
            "name": "I ask for validation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.AskValidationSteps.i_ask_for_validation()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 76000,
              "status": "passed"
            },
            "line": 185,
            "name": "the ask for validation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "ask for validation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 45046000,
              "status": "passed"
            },
            "line": 186,
            "name": "I refresh the payment schedule",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentSchedule()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 124000,
              "status": "passed"
            },
            "line": 187,
            "name": "the refresh response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 203624000,
              "status": "passed"
            },
            "line": 188,
            "name": "the system handles an authorization feedback on status \"PENDING_CAPTURE\"",
            "match": {
              "arguments": [
                {
                  "val": "\"PENDING_CAPTURE\"",
                  "offset": 55
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnAuthorizationFeedbackOnStatus(com.adeo.ulys.payment.event.kafka.bean.PaymentProcessStatusEnum,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery",
                  "5"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 45000,
              "status": "passed"
            },
            "line": 192,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200751000,
              "status": "passed"
            },
            "line": 193,
            "name": "a domain event PaymentSchedulePaymentAuthorized is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulePaymentAuthorized",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 202516000,
              "status": "passed"
            },
            "line": 196,
            "name": "the system handles an event RetrieveCustomerOrder with the following data",
            "match": {
              "arguments": [
                {
                  "val": "RetrieveCustomerOrder",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 361000,
              "status": "passed"
            },
            "line": 199,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204522000,
              "status": "passed"
            },
            "line": 200,
            "name": "the system handles an event CaptureCustomerOrderLinesPayment with the following data",
            "match": {
              "arguments": [
                {
                  "val": "CaptureCustomerOrderLinesPayment",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 32000,
              "status": "passed"
            },
            "line": 203,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200704000,
              "status": "passed"
            },
            "line": 204,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 203078000,
              "status": "passed"
            },
            "line": 207,
            "name": "the system handles an event PaymentUpdated using a capture requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a capture requested feedback",
                  "offset": 49
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventUsing(java.lang.String,java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 88000,
              "status": "passed"
            },
            "line": 208,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1056000,
              "status": "passed"
            },
            "line": 209,
            "name": "a domain event CustomerOrderLinesPaymentCaptured is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentCaptured",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 206969000,
              "status": "passed"
            },
            "line": 213,
            "name": "the system handles an event Order with the following data",
            "match": {
              "arguments": [
                {
                  "val": "Order",
                  "offset": 28
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingData(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "line": 216,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200864000,
              "status": "passed"
            },
            "line": 217,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 203666000,
              "status": "passed"
            },
            "line": 220,
            "name": "the system handles an event PaymentUpdated with the following data using a refund requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a refund requested feedback",
                  "offset": 73
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 737000,
              "status": "passed"
            },
            "line": 223,
            "name": "a domain event CustomerOrderLinesPaymentRefunded is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentRefunded",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "a full scenario to test v1 / v2 compatibility",
    "description": "",
    "id": "a-full-scenario-to-test-v1-/-v2-compatibility",
    "keyword": "Feature",
    "uri": "classpath:features/full_scenario.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 6,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 20000,
              "status": "passed"
            },
            "line": 7,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 44000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 44000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:45.789Z",
        "before": [
          {
            "result": {
              "duration": 53000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 16,
        "name": "Return a 403 if the payment schedule is unvalidated",
        "description": "",
        "id": ";return-a-403-if-the-payment-schedule-is-unvalidated",
        "after": [
          {
            "result": {
              "duration": 29000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 14000,
              "status": "passed"
            },
            "line": 17,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 72109000,
              "status": "passed"
            },
            "line": 18,
            "name": "a payment schedule unvalidated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "unvalidated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 14687000,
              "status": "passed"
            },
            "line": 21,
            "name": "I refresh the payment schedule",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentSchedule()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 78000,
              "status": "passed"
            },
            "line": 22,
            "name": "the refresh response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 338000,
              "status": "passed"
            },
            "line": 23,
            "name": "the refresh response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "INVALIDATE_STATE_ISSUE",
                  "refresh can not be done.",
                  "refresh cannot be done on a payment schedule status: UNVALIDATED"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 6,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 51000,
              "status": "passed"
            },
            "line": 7,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 90000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 61000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:45.880Z",
        "before": [
          {
            "result": {
              "duration": 82000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 28,
        "name": "Return a 403 if the payment schedule is not associated with a cart",
        "description": "",
        "id": ";return-a-403-if-the-payment-schedule-is-not-associated-with-a-cart",
        "after": [
          {
            "result": {
              "duration": 30000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 14000,
              "status": "passed"
            },
            "line": 29,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 68369000,
              "status": "passed"
            },
            "line": 30,
            "name": "a payment schedule simulated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "simulated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 19510000,
              "status": "passed"
            },
            "line": 33,
            "name": "I refresh the payment schedule",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentSchedule()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 85000,
              "status": "passed"
            },
            "line": 34,
            "name": "the refresh response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 299000,
              "status": "passed"
            },
            "line": 35,
            "name": "the refresh response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "INVALIDATE_STATE_ISSUE",
                  "refresh can not be done.",
                  "the payment schedule is not linked with a cashing cart"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 6,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 16000,
              "status": "passed"
            },
            "line": 7,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:45.973Z",
        "before": [
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 39,
        "name": "Return OK if the payment schedule has already been validated",
        "description": "",
        "id": ";return-ok-if-the-payment-schedule-has-already-been-validated",
        "after": [
          {
            "result": {
              "duration": 51000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 10000,
              "status": "passed"
            },
            "line": 40,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 682249000,
              "status": "passed"
            },
            "line": 41,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 79827000,
              "status": "passed"
            },
            "line": 44,
            "name": "a payment schedule simulated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "simulated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 44130000,
              "status": "passed"
            },
            "line": 47,
            "name": "I refresh the payment schedule",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentSchedule()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 119000,
              "status": "passed"
            },
            "line": 48,
            "name": "the refresh response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 6,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 27000,
              "status": "passed"
            },
            "line": 7,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 50000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 63000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:46.087Z",
        "before": [
          {
            "result": {
              "duration": 73000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 50,
        "name": "Return 404 is the payment schedule can not be found",
        "description": "",
        "id": ";return-404-is-the-payment-schedule-can-not-be-found",
        "after": [
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 15000,
              "status": "passed"
            },
            "line": 51,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 19070000,
              "status": "passed"
            },
            "line": 52,
            "name": "I refresh the payment schedule with an unknown payment schedule",
            "match": {
              "arguments": [
                {
                  "val": "an unknown payment schedule",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentScheduleWithAnUnknownPaymentSchedule(java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 114000,
              "status": "passed"
            },
            "line": 53,
            "name": "the refresh response status is not found",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "not found",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 131000,
              "status": "passed"
            },
            "line": 54,
            "name": "the refresh response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title"
                ]
              },
              {
                "cells": [
                  "PAYMENTSCHEDULE_NOT_FOUND",
                  "the paymentSchedule id cannot be found"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 6,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 53000,
              "status": "passed"
            },
            "line": 7,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 71000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 354000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:46.096Z",
        "before": [
          {
            "result": {
              "duration": 522000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 59,
        "name": "No event are sent after a refresh",
        "description": "",
        "id": ";no-event-are-sent-after-a-refresh",
        "after": [
          {
            "result": {
              "duration": 161000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 69000,
              "status": "passed"
            },
            "line": 60,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 730024000,
              "status": "passed"
            },
            "line": 61,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 29920000,
              "status": "passed"
            },
            "line": 64,
            "name": "I refresh the payment schedule",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.RefreshSteps.iRefreshThePaymentSchedule()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 90000,
              "status": "passed"
            },
            "line": 65,
            "name": "the refresh response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 31
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 409000,
              "status": "passed"
            },
            "line": 66,
            "name": "the refresh response match",
            "match": {
              "arguments": [
                {
                  "val": "refresh",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseMatch(java.lang.String,java.lang.String)"
            },
            "keyword": "And ",
            "doc_string": {
              "line": 67,
              "value": "{\n    \"customerOrderId\": \"${cart.id}\",\n    \"customerOrderVersion\": ${cart.version},\n    \"id\": \"${paymentSchedule.id}\"\n}"
            }
          },
          {
            "result": {
              "duration": 1401147000,
              "status": "passed"
            },
            "line": 74,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401357000,
              "status": "passed"
            },
            "line": 75,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401858000,
              "status": "passed"
            },
            "line": 76,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Refresh a payment schedule",
    "description": "  This feature allow to refresh a payment schedule.\n  it\u0027s a hack to update the customer order version on cashing",
    "id": "refresh-a-payment-schedule",
    "keyword": "Feature",
    "uri": "classpath:features/refresh.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 154000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 120000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "line": 16,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:46.112Z",
        "before": [
          {
            "result": {
              "duration": 98000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 20,
        "name": "Get refund feedback after refund all customer order lines on a payment schedule",
        "description": "",
        "id": ";get-refund-feedback-after-refund-all-customer-order-lines-on-a-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 52000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 529269000,
              "status": "passed"
            },
            "line": 21,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 611041000,
              "status": "passed"
            },
            "line": 26,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "product2",
                  "40"
                ]
              },
              {
                "cells": [
                  "product3",
                  "50"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 410345000,
              "status": "passed"
            },
            "line": 31,
            "name": "the following products have their refund pending",
            "match": {
              "arguments": [
                {
                  "val": "refund",
                  "offset": 34
                },
                {
                  "val": "pending",
                  "offset": 41
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "product2",
                  "40"
                ]
              },
              {
                "cells": [
                  "product3",
                  "50"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 204327000,
              "status": "passed"
            },
            "line": 36,
            "name": "the system handles an event PaymentUpdated with the following data using a refund requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a refund requested feedback",
                  "offset": 73
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 29000,
              "status": "passed"
            },
            "line": 41,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 777000,
              "status": "passed"
            },
            "line": 42,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 450000,
              "status": "passed"
            },
            "line": 45,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 425000,
              "status": "passed"
            },
            "line": 48,
            "name": "a domain event CustomerOrderLinesPaymentRefunded is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentRefunded",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              },
              {
                "cells": [
                  "product2"
                ]
              },
              {
                "cells": [
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 52000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 55000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 18000,
              "status": "passed"
            },
            "line": 16,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:46.785Z",
        "before": [
          {
            "result": {
              "duration": 42000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 54,
        "name": "Get refund feedback after refund a customer order line",
        "description": "",
        "id": ";get-refund-feedback-after-refund-a-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 98000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 488874000,
              "status": "passed"
            },
            "line": 55,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 612474000,
              "status": "passed"
            },
            "line": 60,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "product2",
                  "40"
                ]
              },
              {
                "cells": [
                  "product3",
                  "50"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 403811000,
              "status": "passed"
            },
            "line": 65,
            "name": "the following products have their refund pending",
            "match": {
              "arguments": [
                {
                  "val": "refund",
                  "offset": 34
                },
                {
                  "val": "pending",
                  "offset": 41
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 205887000,
              "status": "passed"
            },
            "line": 68,
            "name": "the system handles an event PaymentUpdated with the following data using a refund requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a refund requested feedback",
                  "offset": 73
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 44000,
              "status": "passed"
            },
            "line": 71,
            "name": "the payment schedule increase his version",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.thePaymentScheduleIncreaseHisVersion()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 560000,
              "status": "passed"
            },
            "line": 72,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "another payment schedule id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 619000,
              "status": "passed"
            },
            "line": 75,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using another payment schedule id",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "another payment schedule id",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 618000,
              "status": "passed"
            },
            "line": 78,
            "name": "a domain event CustomerOrderLinesPaymentRefunded is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 2
                },
                {
                  "val": "CustomerOrderLinesPaymentRefunded",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 42000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "40",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "50",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "line": 11,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "4",
                  "serviceLevel2",
                  "product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevel3",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 15000,
              "status": "passed"
            },
            "line": 16,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:47.873Z",
        "before": [
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 84,
        "name": "Get refund feedback on rejected customer order line",
        "description": "",
        "id": ";get-refund-feedback-on-rejected-customer-order-line",
        "after": [
          {
            "result": {
              "duration": 63000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 699171000,
              "status": "passed"
            },
            "line": 85,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevel2"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevel3"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 606382000,
              "status": "passed"
            },
            "line": 90,
            "name": "the following products have their payment accepted",
            "match": {
              "arguments": [
                {
                  "val": "payment",
                  "offset": 34
                },
                {
                  "val": "accepted",
                  "offset": 42
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              },
              {
                "cells": [
                  "product2",
                  "40"
                ]
              },
              {
                "cells": [
                  "product3",
                  "50"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 607786000,
              "status": "passed"
            },
            "line": 95,
            "name": "the following products have their refund rejected",
            "match": {
              "arguments": [
                {
                  "val": "refund",
                  "offset": 34
                },
                {
                  "val": "rejected",
                  "offset": 41
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.theFollowingProductsHaveTheirsOperationTypeOperationStatus(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "amount"
                ]
              },
              {
                "cells": [
                  "product1",
                  "100"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 205002000,
              "status": "passed"
            },
            "line": 98,
            "name": "the system handles an event PaymentUpdated with the following data using a refund requested feedback",
            "match": {
              "arguments": [
                {
                  "val": "PaymentUpdated",
                  "offset": 28
                },
                {
                  "val": "a refund requested feedback",
                  "offset": 73
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.theSystemHandlesAnEventWithTheFollowingDataUsing(java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "When "
          },
          {
            "result": {
              "duration": 1401686000,
              "status": "passed"
            },
            "line": 101,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1401349000,
              "status": "passed"
            },
            "line": 102,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401693000,
              "status": "passed"
            },
            "line": 103,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Refund feedback",
    "description": "  This feature allows to get refund feedback of a set of customer order lines.",
    "id": "refund-feedback",
    "keyword": "Feature",
    "uri": "classpath:features/refund-feedback.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 65000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "line": 9,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:48.508Z",
        "before": [
          {
            "result": {
              "duration": 61000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 14,
        "name": "Set an invoice address on a simulated payment schedule",
        "description": "",
        "id": ";set-an-invoice-address-on-a-simulated-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 29000,
              "status": "passed"
            },
            "line": 15,
            "name": "I\u0027m an authenticated customer without a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithoutAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 46452000,
              "status": "passed"
            },
            "line": 16,
            "name": "a payment schedule simulated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "simulated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 27161000,
              "status": "passed"
            },
            "line": 19,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 20,
              "value": "  {\n    \"title\": \"Mr\",\n    \"lastName\": \"Dupont\",\n    \"firstName\": \"Henri\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 515000,
              "status": "passed"
            },
            "line": 37,
            "name": "the set invoice address response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 432000,
              "status": "passed"
            },
            "line": 38,
            "name": "the set invoice address response match",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseMatch(java.lang.String,java.lang.String)"
            },
            "keyword": "And ",
            "doc_string": {
              "line": 39,
              "value": "{\n  \"customerOrderId\": \"${cart.id}\",\n  \"invoiceAddress\": ${cart.invoiceAddress}\n}"
            }
          },
          {
            "result": {
              "duration": 202765000,
              "status": "passed"
            },
            "line": 45,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1018000,
              "status": "passed"
            },
            "line": 48,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1828000,
              "status": "passed"
            },
            "line": 52,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent using the invoice address updated",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                },
                {
                  "val": "the invoice address updated",
                  "offset": 70
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2462000,
              "status": "passed"
            },
            "line": 53,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using the invoice address updated",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "the invoice address updated",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 748000,
              "status": "passed"
            },
            "line": 56,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 155000,
              "status": "passed"
            },
            "line": 60,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 72000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 46000,
              "status": "passed"
            },
            "line": 9,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:48.799Z",
        "before": [
          {
            "result": {
              "duration": 85000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 62,
        "name": "Set an invoice address on a payment schedule in pending validation",
        "description": "",
        "id": ";set-an-invoice-address-on-a-payment-schedule-in-pending-validation",
        "after": [
          {
            "result": {
              "duration": 108000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 21000,
              "status": "passed"
            },
            "line": 63,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 112639000,
              "status": "passed"
            },
            "line": 64,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 68907000,
              "status": "passed"
            },
            "line": 67,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 68,
              "value": "  {\n    \"title\": \"Mr\",\n    \"lastName\": \"Dupont\",\n    \"firstName\": \"Henri\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 166000,
              "status": "passed"
            },
            "line": 85,
            "name": "the set invoice address response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 478000,
              "status": "passed"
            },
            "line": 86,
            "name": "the set invoice address response match",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseMatch(java.lang.String,java.lang.String)"
            },
            "keyword": "And ",
            "doc_string": {
              "line": 87,
              "value": "{\n  \"customerOrderId\": \"${cart.id}\",\n  \"invoiceAddress\": ${cart.invoiceAddress}\n}"
            }
          },
          {
            "result": {
              "duration": 204320000,
              "status": "passed"
            },
            "line": 93,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1373000,
              "status": "passed"
            },
            "line": 96,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1959000,
              "status": "passed"
            },
            "line": 100,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent using the invoice address updated",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                },
                {
                  "val": "the invoice address updated",
                  "offset": 70
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1532000,
              "status": "passed"
            },
            "line": 101,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using the invoice address updated",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "the invoice address updated",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "VALIDATION_PENDED",
                  "PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1397000,
              "status": "passed"
            },
            "line": 104,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 110",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "110",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "10",
                  "delivery",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 325000,
              "status": "passed"
            },
            "line": 108,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 89000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 46000,
              "status": "passed"
            },
            "line": 9,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:48.843Z",
        "before": [
          {
            "result": {
              "duration": 498000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 111,
        "name": "Cannot set an invoice address on a unvalidated payment schedule",
        "description": "",
        "id": ";cannot-set-an-invoice-address-on-a-unvalidated-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 128000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 17000,
              "status": "passed"
            },
            "line": 112,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 150920000,
              "status": "passed"
            },
            "line": 113,
            "name": "a payment schedule unvalidated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "unvalidated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 17493000,
              "status": "passed"
            },
            "line": 116,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 117,
              "value": "  {\n    \"title\": \"Mr\",\n    \"firstName\": \"Henri\",\n    \"lastName\": \"Dupont\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 84000,
              "status": "passed"
            },
            "line": 134,
            "name": "the set invoice address response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 416000,
              "status": "passed"
            },
            "line": 135,
            "name": "the set invoice address response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "403",
                  "INVALIDATE_STATE_ISSUE",
                  "set invoice address can not be done.",
                  "set invoice address cannot be done on a payment schedule status: UNVALIDATED"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401447000,
              "status": "passed"
            },
            "line": 138,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401346000,
              "status": "passed"
            },
            "line": 139,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401497000,
              "status": "passed"
            },
            "line": 140,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 143000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 197000,
              "status": "passed"
            },
            "line": 9,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:49.211Z",
        "before": [
          {
            "result": {
              "duration": 103000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 143,
        "name": "Cannot set an invoice address on a unknown payment schedule",
        "description": "",
        "id": ";cannot-set-an-invoice-address-on-a-unknown-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 42000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 60000,
              "status": "passed"
            },
            "line": 144,
            "name": "I\u0027m an authenticated customer without a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithoutAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "line": 145,
            "name": "I use an unknown customer order",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.unknownCustomerOrder()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 55230000,
              "status": "passed"
            },
            "line": 146,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 147,
              "value": "  {\n    \"title\": \"Mr\",\n    \"firstName\": \"Henri\",\n    \"lastName\": \"Dupont\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 339000,
              "status": "passed"
            },
            "line": 164,
            "name": "the set invoice address response status is not found",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "not found",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 1861000,
              "status": "passed"
            },
            "line": 165,
            "name": "the set invoice address response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "404",
                  "PAYMENT_SCHEDULE_NOT_FOUND",
                  "the payment schedule id cannot be found",
                  "The payment schedule linked with the customer order \\\"${cart.id}\\\" can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401783000,
              "status": "passed"
            },
            "line": 168,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401312000,
              "status": "passed"
            },
            "line": 169,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402333000,
              "status": "passed"
            },
            "line": 170,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 5,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 48000,
              "status": "passed"
            },
            "line": 6,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 60000,
              "status": "passed"
            },
            "line": 9,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "10",
                  "serviceLevel1",
                  "product1",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:51.071Z",
        "before": [
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 173,
        "name": "Cannot set an invoice address on a validated payment schedule",
        "description": "",
        "id": ";cannot-set-an-invoice-address-on-a-validated-payment-schedule",
        "after": [
          {
            "result": {
              "duration": 150000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 17000,
              "status": "passed"
            },
            "line": 174,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 678794000,
              "status": "passed"
            },
            "line": 175,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevel1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 46873000,
              "status": "passed"
            },
            "line": 178,
            "name": "I set an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SetInvoiceAddressSteps.setInvoiceAddress(java.lang.String)"
            },
            "keyword": "When ",
            "doc_string": {
              "line": 179,
              "value": "  {\n    \"title\": \"Mr\",\n    \"firstName\": \"Henri\",\n    \"lastName\": \"Dupont\",\n    \"corporateName\": \"Groupe ADEO\",\n    \"legalEntityType\": \"Corporation\",\n    \"line1\": \"1 er étage\",\n    \"line2\": \"porte 24\",\n    \"line3\": \"2 rue Héloïse\",\n    \"line4\": \"à proximité du métro 4 cantons\",\n    \"city\": \"Villeneuve d\u0027ascq\",\n    \"postalCode\": \"59650\",\n    \"countryCode\": \"FR\",\n    \"additionalInformation\": \"Beware of the elks.\"\n  }"
            }
          },
          {
            "result": {
              "duration": 175000,
              "status": "passed"
            },
            "line": 196,
            "name": "the set invoice address response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 43
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 707000,
              "status": "passed"
            },
            "line": 197,
            "name": "the set invoice address response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "set invoice address",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "403",
                  "INVALIDATE_STATE_ISSUE",
                  "set invoice address can not be done.",
                  "set invoice address cannot be done on a payment schedule status: VALIDATED"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401483000,
              "status": "passed"
            },
            "line": 200,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401464000,
              "status": "passed"
            },
            "line": 201,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402507000,
              "status": "passed"
            },
            "line": 202,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Set invoice address",
    "description": "  This feature allow to set an invoice address of a customer before its validation.",
    "id": "set-invoice-address",
    "keyword": "Feature",
    "uri": "classpath:features/setinvoiceaddress.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "start_timestamp": "2020-07-12T13:24:53.234Z",
        "before": [
          {
            "result": {
              "duration": 109000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 28,
        "name": "Simulate a payment schedule with anonymous customer with one product",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-anonymous-customer-with-one-product",
        "after": [
          {
            "result": {
              "duration": 123000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 122000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 61000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 43000,
              "status": "passed"
            },
            "line": 29,
            "name": "I\u0027m an anonymous customer",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iamAnAnonymousCustomer()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 234000,
              "status": "passed"
            },
            "line": 30,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 45508000,
              "status": "passed"
            },
            "line": 33,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 368000,
              "status": "passed"
            },
            "line": 34,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 549000,
              "status": "passed"
            },
            "line": 35,
            "name": "the simulation cannot be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotBeValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 3357000,
              "status": "passed"
            },
            "line": 36,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 785000,
              "status": "passed"
            },
            "line": 37,
            "name": "the simulation is associated with the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationIsAssociatedWithTheCustomerCart()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 402369000,
              "status": "passed"
            },
            "line": 38,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 7468000,
              "status": "passed"
            },
            "line": 41,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using an empty invoice address",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "an empty invoice address",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:53.480Z",
        "before": [
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 45,
        "name": "Simulate a payment schedule with an authenticated physical customer with a main address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-with-a-main-address",
        "after": [
          {
            "result": {
              "duration": 84000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 12000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 14000,
              "status": "passed"
            },
            "line": 46,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "line": 47,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 41198000,
              "status": "passed"
            },
            "line": 50,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 70000,
              "status": "passed"
            },
            "line": 51,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 65000,
              "status": "passed"
            },
            "line": 52,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 272000,
              "status": "passed"
            },
            "line": 53,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200921000,
              "status": "passed"
            },
            "line": 54,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 12075000,
              "status": "passed"
            },
            "line": 57,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2469000,
              "status": "passed"
            },
            "line": 58,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:53.713Z",
        "before": [
          {
            "result": {
              "duration": 98000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 62,
        "name": "Simulate a payment schedule with an authenticated physical customer with a default address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-with-a-default-address",
        "after": [
          {
            "result": {
              "duration": 108000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 149000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 59000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 791000,
              "status": "passed"
            },
            "line": 63,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 194000,
              "status": "passed"
            },
            "line": 64,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 68855000,
              "status": "passed"
            },
            "line": 67,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 89000,
              "status": "passed"
            },
            "line": 68,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 110000,
              "status": "passed"
            },
            "line": 69,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 243000,
              "status": "passed"
            },
            "line": 70,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201458000,
              "status": "passed"
            },
            "line": 71,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1339000,
              "status": "passed"
            },
            "line": 74,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2005000,
              "status": "passed"
            },
            "line": 75,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:53.745Z",
        "before": [
          {
            "result": {
              "duration": 495000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 79,
        "name": "Simulate a payment schedule with an authenticated physical customer with an invoice address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-with-an-invoice-address",
        "after": [
          {
            "result": {
              "duration": 140000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 421000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 72000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 52000,
              "status": "passed"
            },
            "line": 80,
            "name": "I\u0027m an authenticated customer with an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAnInvoiceAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 111000,
              "status": "passed"
            },
            "line": 81,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 68839000,
              "status": "passed"
            },
            "line": 84,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 312000,
              "status": "passed"
            },
            "line": 85,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 195000,
              "status": "passed"
            },
            "line": 86,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 794000,
              "status": "passed"
            },
            "line": 87,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201025000,
              "status": "passed"
            },
            "line": 88,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 2161000,
              "status": "passed"
            },
            "line": 91,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1420000,
              "status": "passed"
            },
            "line": 92,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:54.008Z",
        "before": [
          {
            "result": {
              "duration": 97000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 96,
        "name": "Simulate a payment schedule with an authenticated physical customer without address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-without-address",
        "after": [
          {
            "result": {
              "duration": 66000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 114000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 57000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 50000,
              "status": "passed"
            },
            "line": 97,
            "name": "I\u0027m an authenticated customer without a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithoutAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 129000,
              "status": "passed"
            },
            "line": 98,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 69498000,
              "status": "passed"
            },
            "line": 101,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 170000,
              "status": "passed"
            },
            "line": 102,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 120000,
              "status": "passed"
            },
            "line": 103,
            "name": "the simulation cannot be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotBeValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1292000,
              "status": "passed"
            },
            "line": 104,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201319000,
              "status": "passed"
            },
            "line": 105,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 840000,
              "status": "passed"
            },
            "line": 108,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using an empty invoice address",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "an empty invoice address",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:54.030Z",
        "before": [
          {
            "result": {
              "duration": 64000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 112,
        "name": "Simulate a payment schedule with an authenticated pro customer with a default address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-pro-customer-with-a-default-address",
        "after": [
          {
            "result": {
              "duration": 59000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 68000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 27000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 74000,
              "status": "passed"
            },
            "line": 113,
            "name": "I\u0027m an authenticated pro customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedProCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 83000,
              "status": "passed"
            },
            "line": 114,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 71713000,
              "status": "passed"
            },
            "line": 117,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 64000,
              "status": "passed"
            },
            "line": 118,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 35000,
              "status": "passed"
            },
            "line": 119,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 222000,
              "status": "passed"
            },
            "line": 120,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200791000,
              "status": "passed"
            },
            "line": 121,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 696000,
              "status": "passed"
            },
            "line": 124,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 745000,
              "status": "passed"
            },
            "line": 125,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:54.201Z",
        "before": [
          {
            "result": {
              "duration": 273000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 129,
        "name": "Simulate a payment schedule with a non existing user",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-a-non-existing-user",
        "after": [
          {
            "result": {
              "duration": 1199000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 197000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 15000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 16000,
              "status": "passed"
            },
            "line": 130,
            "name": "I\u0027m authenticated with a non existing user",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAuthenticatedWithANonExistingUser()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 52000,
              "status": "passed"
            },
            "line": 131,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 83687000,
              "status": "passed"
            },
            "line": 134,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 128000,
              "status": "passed"
            },
            "line": 135,
            "name": "the simulation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 477000,
              "status": "passed"
            },
            "line": 136,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "DEPENDENCY_NOT_FOUND_ISSUE",
                  "a dependency cannot be found",
                  "the customer id ${customer.id} provided can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402055000,
              "status": "passed"
            },
            "line": 139,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401842000,
              "status": "passed"
            },
            "line": 140,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401781000,
              "status": "passed"
            },
            "line": 141,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:54.288Z",
        "before": [
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 143,
        "name": "Simulate a payment schedule with a malformed user id",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-a-malformed-user-id",
        "after": [
          {
            "result": {
              "duration": 41000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 15000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 58000,
              "status": "passed"
            },
            "line": 144,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 23979000,
              "status": "passed"
            },
            "line": 147,
            "name": "I simulate a payment schedule using a \"malformed user id\"",
            "match": {
              "arguments": [
                {
                  "val": "\"malformed user id\"",
                  "offset": 38
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingA(java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 125000,
              "status": "passed"
            },
            "line": 148,
            "name": "the simulation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 407000,
              "status": "passed"
            },
            "line": 149,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "DEPENDENCY_NOT_FOUND_ISSUE",
                  "a dependency cannot be found",
                  "the customer id ar456 provided can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402389000,
              "status": "passed"
            },
            "line": 152,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401542000,
              "status": "passed"
            },
            "line": 153,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401883000,
              "status": "passed"
            },
            "line": 154,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:54.310Z",
        "before": [
          {
            "result": {
              "duration": 41000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 156,
        "name": "Simulate a payment schedule with a non existing quotation",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-a-non-existing-quotation",
        "after": [
          {
            "result": {
              "duration": 53000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 19000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 21000,
              "status": "passed"
            },
            "line": 157,
            "name": "I\u0027m authenticated with a non existing user",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAuthenticatedWithANonExistingUser()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 50000,
              "status": "passed"
            },
            "line": 158,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 39803000,
              "status": "passed"
            },
            "line": 161,
            "name": "I simulate a payment schedule using a \"non existing quotation\"",
            "match": {
              "arguments": [
                {
                  "val": "\"non existing quotation\"",
                  "offset": 38
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingA(java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 111000,
              "status": "passed"
            },
            "line": 162,
            "name": "the simulation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 393000,
              "status": "passed"
            },
            "line": 163,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "DEPENDENCY_NOT_FOUND_ISSUE",
                  "a dependency cannot be found",
                  "the quotation id 36b8a593-f725-46b5-830b-b91cc7c23eca provided can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401599000,
              "status": "passed"
            },
            "line": 166,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401667000,
              "status": "passed"
            },
            "line": 167,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401698000,
              "status": "passed"
            },
            "line": 168,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:56.022Z",
        "before": [
          {
            "result": {
              "duration": 87000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 170,
        "name": "Simulate a payment schedule with an outdated quotation",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-outdated-quotation",
        "after": [
          {
            "result": {
              "duration": 112000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 130000,
              "status": "passed"
            },
            "line": 23,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 58000,
              "status": "passed"
            },
            "line": 26,
            "name": "I want use the V1 simulation",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iWantUseTheV2Simulation()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 45000,
              "status": "passed"
            },
            "line": 171,
            "name": "I\u0027m authenticated with a non existing user",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAuthenticatedWithANonExistingUser()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 114000,
              "status": "passed"
            },
            "line": 172,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id"
                ]
              },
              {
                "cells": [
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 32662000,
              "status": "passed"
            },
            "line": 175,
            "name": "I simulate a payment schedule using a \"outdated quotation\"",
            "match": {
              "arguments": [
                {
                  "val": "\"outdated quotation\"",
                  "offset": 38
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingA(java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 403000,
              "status": "passed"
            },
            "line": 176,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "INCONSISTENT_DEPENDENCY_ISSUE",
                  "there is a dependency version mismatch",
                  "the quotation version 0 is outdated"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401271000,
              "status": "passed"
            },
            "line": 179,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401712000,
              "status": "passed"
            },
            "line": 180,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401612000,
              "status": "passed"
            },
            "line": 181,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Simulate a payment scheduler",
    "description": "  This feature allow to create a payment scheduler.\n  The aim of a simulation is to know when the customer should paid, and how many.\n  The simulation retrieve the invoice address of the customer if a customerId is given.",
    "id": "simulate-a-payment-scheduler",
    "keyword": "Feature",
    "uri": "classpath:features/simulation.feature",
    "tags": []
  },
  {
    "line": 1,
    "elements": [
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 39000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 310000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:58.500Z",
        "before": [
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 29,
        "name": "Simulate a payment schedule with anonymous customer with one product",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-anonymous-customer-with-one-product",
        "after": [
          {
            "result": {
              "duration": 30000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 20000,
              "status": "passed"
            },
            "line": 30,
            "name": "I\u0027m an anonymous customer",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iamAnAnonymousCustomer()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 65000,
              "status": "passed"
            },
            "line": 31,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 22805000,
              "status": "passed"
            },
            "line": 34,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 82000,
              "status": "passed"
            },
            "line": 35,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 91000,
              "status": "passed"
            },
            "line": 36,
            "name": "the simulation cannot be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotBeValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 343000,
              "status": "passed"
            },
            "line": 37,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 724000,
              "status": "passed"
            },
            "line": 38,
            "name": "the simulation is associated with the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationIsAssociatedWithTheCustomerCart()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201009000,
              "status": "passed"
            },
            "line": 39,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 785000,
              "status": "passed"
            },
            "line": 42,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using an empty invoice address",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "an empty invoice address",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 76000,
              "status": "passed"
            },
            "line": 45,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 63000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:58.523Z",
        "before": [
          {
            "result": {
              "duration": 38000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 48,
        "name": "Simulate a payment schedule with an authenticated physical customer with a main address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-with-a-main-address",
        "after": [
          {
            "result": {
              "duration": 24000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 24000,
              "status": "passed"
            },
            "line": 49,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 67000,
              "status": "passed"
            },
            "line": 50,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 49470000,
              "status": "passed"
            },
            "line": 53,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 164000,
              "status": "passed"
            },
            "line": 54,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 89000,
              "status": "passed"
            },
            "line": 55,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 433000,
              "status": "passed"
            },
            "line": 56,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 495000,
              "status": "passed"
            },
            "line": 57,
            "name": "the simulation is associated with the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationIsAssociatedWithTheCustomerCart()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200929000,
              "status": "passed"
            },
            "line": 58,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 799000,
              "status": "passed"
            },
            "line": 61,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 832000,
              "status": "passed"
            },
            "line": 62,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 76000,
              "status": "passed"
            },
            "line": 65,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ],
        "tags": [
          {
            "name": "@ToRun"
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 40000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 80000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:58.560Z",
        "before": [
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 67,
        "name": "Simulate a payment schedule with an authenticated physical customer with a default address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-with-a-default-address",
        "after": [
          {
            "result": {
              "duration": 46000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 20000,
              "status": "passed"
            },
            "line": 68,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 329000,
              "status": "passed"
            },
            "line": 69,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 47961000,
              "status": "passed"
            },
            "line": 72,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 453000,
              "status": "passed"
            },
            "line": 73,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 48000,
              "status": "passed"
            },
            "line": 74,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 266000,
              "status": "passed"
            },
            "line": 75,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200753000,
              "status": "passed"
            },
            "line": 76,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1280000,
              "status": "passed"
            },
            "line": 79,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 980000,
              "status": "passed"
            },
            "line": 80,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 117000,
              "status": "passed"
            },
            "line": 83,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 33000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 46000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:58.731Z",
        "before": [
          {
            "result": {
              "duration": 25000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 85,
        "name": "Simulate a payment schedule with an authenticated physical customer with an invoice address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-with-an-invoice-address",
        "after": [
          {
            "result": {
              "duration": 31000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 21000,
              "status": "passed"
            },
            "line": 86,
            "name": "I\u0027m an authenticated customer with an invoice address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAnInvoiceAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 41000,
              "status": "passed"
            },
            "line": 87,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 44314000,
              "status": "passed"
            },
            "line": 90,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 75000,
              "status": "passed"
            },
            "line": 91,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 51000,
              "status": "passed"
            },
            "line": 92,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 272000,
              "status": "passed"
            },
            "line": 93,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200633000,
              "status": "passed"
            },
            "line": 94,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 914000,
              "status": "passed"
            },
            "line": 97,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 628000,
              "status": "passed"
            },
            "line": 98,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 88000,
              "status": "passed"
            },
            "line": 101,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 38000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 38000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:58.781Z",
        "before": [
          {
            "result": {
              "duration": 35000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 103,
        "name": "Simulate a payment schedule with an authenticated physical customer without address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-physical-customer-without-address",
        "after": [
          {
            "result": {
              "duration": 31000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 21000,
              "status": "passed"
            },
            "line": 104,
            "name": "I\u0027m an authenticated customer without a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithoutAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 48000,
              "status": "passed"
            },
            "line": 105,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 49315000,
              "status": "passed"
            },
            "line": 108,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 397000,
              "status": "passed"
            },
            "line": 109,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 425000,
              "status": "passed"
            },
            "line": 110,
            "name": "the simulation cannot be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotBeValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 694000,
              "status": "passed"
            },
            "line": 111,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 201900000,
              "status": "passed"
            },
            "line": 112,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 449000,
              "status": "passed"
            },
            "line": 115,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data using an empty invoice address",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                },
                {
                  "val": "an empty invoice address",
                  "offset": 94
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 76000,
              "status": "passed"
            },
            "line": 118,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:58.818Z",
        "before": [
          {
            "result": {
              "duration": 35000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 120,
        "name": "Simulate a payment schedule with an authenticated pro customer with a default address",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-authenticated-pro-customer-with-a-default-address",
        "after": [
          {
            "result": {
              "duration": 27000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 42000,
              "status": "passed"
            },
            "line": 121,
            "name": "I\u0027m an authenticated pro customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedProCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 39000,
              "status": "passed"
            },
            "line": 122,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 54402000,
              "status": "passed"
            },
            "line": 125,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 113000,
              "status": "passed"
            },
            "line": 126,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 39000,
              "status": "passed"
            },
            "line": 127,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 229000,
              "status": "passed"
            },
            "line": 128,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 200785000,
              "status": "passed"
            },
            "line": 129,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 350000,
              "status": "passed"
            },
            "line": 132,
            "name": "a custom event PaymentSchedulerInvoiceAddressAssociated is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentSchedulerInvoiceAddressAssociated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 511000,
              "status": "passed"
            },
            "line": 133,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 65000,
              "status": "passed"
            },
            "line": 136,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 32000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:58.982Z",
        "before": [
          {
            "result": {
              "duration": 28000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 138,
        "name": "Simulate a payment schedule with a non existing user",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-a-non-existing-user",
        "after": [
          {
            "result": {
              "duration": 42000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 16000,
              "status": "passed"
            },
            "line": 139,
            "name": "I\u0027m authenticated with a non existing user",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAuthenticatedWithANonExistingUser()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "line": 140,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 36249000,
              "status": "passed"
            },
            "line": 143,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 84000,
              "status": "passed"
            },
            "line": 144,
            "name": "the simulation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 386000,
              "status": "passed"
            },
            "line": 145,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "DEPENDENCY_NOT_FOUND_ISSUE",
                  "a dependency cannot be found",
                  "the customer id ${customer.id} provided can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401651000,
              "status": "passed"
            },
            "line": 148,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401511000,
              "status": "passed"
            },
            "line": 149,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401372000,
              "status": "passed"
            },
            "line": 150,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 41000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 33000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:59.039Z",
        "before": [
          {
            "result": {
              "duration": 26000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 152,
        "name": "Simulate a payment schedule with a malformed user id",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-a-malformed-user-id",
        "after": [
          {
            "result": {
              "duration": 77000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 59000,
              "status": "passed"
            },
            "line": 153,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 17369000,
              "status": "passed"
            },
            "line": 156,
            "name": "I simulate a payment schedule using a \"malformed user id\"",
            "match": {
              "arguments": [
                {
                  "val": "\"malformed user id\"",
                  "offset": 38
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingA(java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 67000,
              "status": "passed"
            },
            "line": 157,
            "name": "the simulation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 252000,
              "status": "passed"
            },
            "line": 158,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "DEPENDENCY_NOT_FOUND_ISSUE",
                  "a dependency cannot be found",
                  "the customer id ar456 provided can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401540000,
              "status": "passed"
            },
            "line": 161,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401703000,
              "status": "passed"
            },
            "line": 162,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401387000,
              "status": "passed"
            },
            "line": 163,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 45000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 46000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:24:59.081Z",
        "before": [
          {
            "result": {
              "duration": 39000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 165,
        "name": "Simulate a payment schedule with a non existing quotation",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-a-non-existing-quotation",
        "after": [
          {
            "result": {
              "duration": 99000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 21000,
              "status": "passed"
            },
            "line": 166,
            "name": "I\u0027m authenticated with a non existing user",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAuthenticatedWithANonExistingUser()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 66000,
              "status": "passed"
            },
            "line": 167,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 19849000,
              "status": "passed"
            },
            "line": 170,
            "name": "I simulate a payment schedule using a \"non existing quotation\"",
            "match": {
              "arguments": [
                {
                  "val": "\"non existing quotation\"",
                  "offset": 38
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingA(java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 78000,
              "status": "passed"
            },
            "line": 171,
            "name": "the simulation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 273000,
              "status": "passed"
            },
            "line": 172,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "DEPENDENCY_NOT_FOUND_ISSUE",
                  "a dependency cannot be found",
                  "the quotation id 36b8a593-f725-46b5-830b-b91cc7c23eca provided can not be found"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401339000,
              "status": "passed"
            },
            "line": 175,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401664000,
              "status": "passed"
            },
            "line": 176,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1405610000,
              "status": "passed"
            },
            "line": 177,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 31000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 31000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:00.275Z",
        "before": [
          {
            "result": {
              "duration": 26000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 179,
        "name": "Simulate a payment schedule with an outdated quotation",
        "description": "",
        "id": ";simulate-a-payment-schedule-with-an-outdated-quotation",
        "after": [
          {
            "result": {
              "duration": 114000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 14000,
              "status": "passed"
            },
            "line": 180,
            "name": "I\u0027m authenticated with a non existing user",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAuthenticatedWithANonExistingUser()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 45000,
              "status": "passed"
            },
            "line": 181,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 21944000,
              "status": "passed"
            },
            "line": 184,
            "name": "I simulate a payment schedule using a \"outdated quotation\"",
            "match": {
              "arguments": [
                {
                  "val": "\"outdated quotation\"",
                  "offset": 38
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingA(java.lang.String)"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 87000,
              "status": "passed"
            },
            "line": 185,
            "name": "the simulation response status is bad request",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "bad request",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 333000,
              "status": "passed"
            },
            "line": 186,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "INCONSISTENT_DEPENDENCY_ISSUE",
                  "there is a dependency version mismatch",
                  "the quotation version 0 is outdated"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401351000,
              "status": "passed"
            },
            "line": 189,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401346000,
              "status": "passed"
            },
            "line": 190,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402224000,
              "status": "passed"
            },
            "line": 191,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 33000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:03.228Z",
        "before": [
          {
            "result": {
              "duration": 28000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 193,
        "name": "Simulate a payment schedule on state pending a validation",
        "description": "",
        "id": ";simulate-a-payment-schedule-on-state-pending-a-validation",
        "after": [
          {
            "result": {
              "duration": 38000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 16000,
              "status": "passed"
            },
            "line": 194,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 118251000,
              "status": "passed"
            },
            "line": 195,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 103677000,
              "status": "passed"
            },
            "line": 198,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 146000,
              "status": "passed"
            },
            "line": 199,
            "name": "the simulation response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "line": 200,
            "name": "the simulation can be validated",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationCannotValidated()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 408000,
              "status": "passed"
            },
            "line": 201,
            "name": "the simulation expiration is set to \"2999-12-12 23:59:59\"",
            "match": {
              "arguments": [
                {
                  "val": "\"2999-12-12 23:59:59\"",
                  "offset": 36
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationExpirationIsSetTo(java.time.LocalDateTime)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 670000,
              "status": "passed"
            },
            "line": 202,
            "name": "the simulation is associated with the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.theSimulationIsAssociatedWithTheCustomerCart()"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 402335000,
              "status": "passed"
            },
            "line": 203,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1137000,
              "status": "passed"
            },
            "line": 206,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 92000,
              "status": "passed"
            },
            "line": 209,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 87000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:03.268Z",
        "before": [
          {
            "result": {
              "duration": 61000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 211,
        "name": "Simulate a payment schedule using an existing customer order",
        "description": "",
        "id": ";simulate-a-payment-schedule-using-an-existing-customer-order",
        "after": [
          {
            "result": {
              "duration": 51000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 86000,
              "status": "passed"
            },
            "line": 212,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 847281000,
              "status": "passed"
            },
            "line": 213,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 24433000,
              "status": "passed"
            },
            "line": 216,
            "name": "I simulate a new payment schedule with the following products on the existing cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateANewPaymentScheduleWithTheFollowingProductsOnTheExistingCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 111000,
              "status": "passed"
            },
            "line": 217,
            "name": "the simulation response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 453000,
              "status": "passed"
            },
            "line": 218,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "CUSTOMER_ORDER_ALREADY_EXISTS",
                  "The customer order already exists.",
                  "The customer order with customer order id ${cart.id}."
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402018000,
              "status": "passed"
            },
            "line": 221,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401507000,
              "status": "passed"
            },
            "line": 222,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401907000,
              "status": "passed"
            },
            "line": 223,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 158000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 135000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:03.320Z",
        "before": [
          {
            "result": {
              "duration": 131000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 225,
        "name": "Simulate an existing payment schedule using another user",
        "description": "",
        "id": ";simulate-an-existing-payment-schedule-using-another-user",
        "after": [
          {
            "result": {
              "duration": 55000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 53000,
              "status": "passed"
            },
            "line": 226,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 200219000,
              "status": "passed"
            },
            "line": 227,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "line": 230,
            "name": "I\u0027m an authenticated customer with a main address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithAMainAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 32036000,
              "status": "passed"
            },
            "line": 231,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 194000,
              "status": "passed"
            },
            "line": 232,
            "name": "the simulate response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "simulate",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 32
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 193000,
              "status": "passed"
            },
            "line": 233,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title"
                ]
              },
              {
                "cells": [
                  "ALREADY_LINKED_CUSTOMER",
                  "The payment schedule is already linked with another customer."
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401481000,
              "status": "passed"
            },
            "line": 236,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401385000,
              "status": "passed"
            },
            "line": 237,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401831000,
              "status": "passed"
            },
            "line": 238,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 43000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 69000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:03.863Z",
        "before": [
          {
            "result": {
              "duration": 37000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 240,
        "name": "Simulate an existing payment schedule using an anonymous customer",
        "description": "",
        "id": ";simulate-an-existing-payment-schedule-using-an-anonymous-customer",
        "after": [
          {
            "result": {
              "duration": 156000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 23000,
              "status": "passed"
            },
            "line": 241,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 93426000,
              "status": "passed"
            },
            "line": 242,
            "name": "a payment schedule validation pending with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validation pending",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "line": 245,
            "name": "I\u0027m an anonymous customer",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iamAnAnonymousCustomer()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 25815000,
              "status": "passed"
            },
            "line": 246,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 114000,
              "status": "passed"
            },
            "line": 247,
            "name": "the simulate response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "simulate",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 32
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 128000,
              "status": "passed"
            },
            "line": 248,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title"
                ]
              },
              {
                "cells": [
                  "ALREADY_LINKED_CUSTOMER",
                  "The payment schedule is already linked with another customer."
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401656000,
              "status": "passed"
            },
            "line": 251,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401595000,
              "status": "passed"
            },
            "line": 252,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402072000,
              "status": "passed"
            },
            "line": 253,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 102000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 179000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:04.517Z",
        "before": [
          {
            "result": {
              "duration": 77000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 255,
        "name": "Simulate a payment schedule validated (after authorization feedback)",
        "description": "",
        "id": ";simulate-a-payment-schedule-validated-(after-authorization-feedback)",
        "after": [
          {
            "result": {
              "duration": 57000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 56000,
              "status": "passed"
            },
            "line": 256,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 721315000,
              "status": "passed"
            },
            "line": 257,
            "name": "a payment schedule validated with the following products exists",
            "match": {
              "arguments": [
                {
                  "val": "validated",
                  "offset": 19
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.PaymentScheduleSteps.aPaymentScheduleStatusWithTheFollowingProductsExists(com.adeo.sales.customerorder.paymentscheduler.CucumberExtension$PaymentScheduleStatus,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 58035000,
              "status": "passed"
            },
            "line": 260,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 109000,
              "status": "passed"
            },
            "line": 261,
            "name": "the simulation response status is forbidden",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                },
                {
                  "val": "forbidden",
                  "offset": 34
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 440000,
              "status": "passed"
            },
            "line": 262,
            "name": "the simulation response contains the following errors",
            "match": {
              "arguments": [
                {
                  "val": "simulation",
                  "offset": 4
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseContainsTheFollowingErrors(java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "code",
                  "title",
                  "detail"
                ]
              },
              {
                "cells": [
                  "INVALIDATE_STATE_ISSUE",
                  "simulation can not be done.",
                  "simulation cannot be done on a payment schedule status: VALIDATED"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1402003000,
              "status": "passed"
            },
            "line": 265,
            "name": "no technical event is sent",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401689000,
              "status": "passed"
            },
            "line": 266,
            "name": "no custom event is sent",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1401750000,
              "status": "passed"
            },
            "line": 267,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 49000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 34000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:07.763Z",
        "before": [
          {
            "result": {
              "duration": 31000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 269,
        "name": "Simulate with a cart with 3 products and 2 delivery",
        "description": "",
        "id": ";simulate-with-a-cart-with-3-products-and-2-delivery",
        "after": [
          {
            "result": {
              "duration": 30000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 16000,
              "status": "passed"
            },
            "line": 270,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 42000,
              "status": "passed"
            },
            "line": 271,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "150",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "12",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 76000,
              "status": "passed"
            },
            "line": 276,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product ids",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1,product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "2",
                  "serviceLevelPickUpInStore",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 47000,
              "status": "passed"
            },
            "line": 280,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 54392000,
              "status": "passed"
            },
            "line": 285,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 101000,
              "status": "passed"
            },
            "line": 286,
            "name": "the simulate response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulate",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 32
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 201596000,
              "status": "passed"
            },
            "line": 287,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 3838000,
              "status": "passed"
            },
            "line": 290,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 269",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "269",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "150",
                  "product",
                  "product2"
                ]
              },
              {
                "cells": [
                  "12",
                  "product",
                  "product3"
                ]
              },
              {
                "cells": [
                  "5",
                  "delivery",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "2",
                  "delivery",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 788000,
              "status": "passed"
            },
            "line": 297,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 707000,
              "status": "passed"
            },
            "line": 300,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 269",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "269",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "150",
                  "product",
                  "product2"
                ]
              },
              {
                "cells": [
                  "12",
                  "product",
                  "product3"
                ]
              },
              {
                "cells": [
                  "5",
                  "delivery",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "2",
                  "delivery",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 130000,
              "status": "passed"
            },
            "line": 307,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 66000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 44000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:08.030Z",
        "before": [
          {
            "result": {
              "duration": 103000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 309,
        "name": "Simulate with a cart with 3 products and 2 delivery only on HOME_DELIVERY",
        "description": "",
        "id": ";simulate-with-a-cart-with-3-products-and-2-delivery-only-on-home-delivery",
        "after": [
          {
            "result": {
              "duration": 173000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 27000,
              "status": "passed"
            },
            "line": 310,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 38000,
              "status": "passed"
            },
            "line": 311,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "150",
                  "vendor1",
                  "product2"
                ]
              },
              {
                "cells": [
                  "12",
                  "vendor2",
                  "product3"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 41000,
              "status": "passed"
            },
            "line": 316,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product ids",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1,product2",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "2",
                  "serviceLevelPickUpInStore",
                  "product3",
                  "HOME_DELIVERY"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 74000,
              "status": "passed"
            },
            "line": 320,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "product3",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 45736000,
              "status": "passed"
            },
            "line": 325,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 99000,
              "status": "passed"
            },
            "line": 326,
            "name": "the simulate response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulate",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 32
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200616000,
              "status": "passed"
            },
            "line": 327,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 717000,
              "status": "passed"
            },
            "line": 330,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 269",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "269",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "150",
                  "product",
                  "product2"
                ]
              },
              {
                "cells": [
                  "12",
                  "product",
                  "product3"
                ]
              },
              {
                "cells": [
                  "5",
                  "delivery",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "2",
                  "delivery",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 603000,
              "status": "passed"
            },
            "line": 337,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1110000,
              "status": "passed"
            },
            "line": 340,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 269",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "269",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "150",
                  "product",
                  "product2"
                ]
              },
              {
                "cells": [
                  "12",
                  "product",
                  "product3"
                ]
              },
              {
                "cells": [
                  "5",
                  "delivery",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "2",
                  "delivery",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 529000,
              "status": "passed"
            },
            "line": 347,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 115000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 129000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:08.207Z",
        "before": [
          {
            "result": {
              "duration": 87000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 349,
        "name": "Simulate with a cart with 1 HOME_DELIVERY and 1 PICKUP_IN_STORE",
        "description": "",
        "id": ";simulate-with-a-cart-with-1-home-delivery-and-1-pickup-in-store",
        "after": [
          {
            "result": {
              "duration": 73000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 1267000,
              "status": "passed"
            },
            "line": 350,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 268000,
              "status": "passed"
            },
            "line": 351,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  "serviceLevelHomeDelivery"
                ]
              },
              {
                "cells": [
                  "product2",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 89037000,
              "status": "passed"
            },
            "line": 355,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 108000,
              "status": "passed"
            },
            "line": 356,
            "name": "the simulate response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulate",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 32
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 401273000,
              "status": "passed"
            },
            "line": 357,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1177000,
              "status": "passed"
            },
            "line": 360,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "5",
                  "delivery",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 883000,
              "status": "passed"
            },
            "line": 364,
            "name": "this event has the following schedules for rank 1 with status WAIT and remainingAmount 15",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 48
                },
                {
                  "val": "WAIT",
                  "offset": 62
                },
                {
                  "val": "15",
                  "offset": 87
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "15",
                  "product",
                  "product2"
                ]
              },
              {
                "cells": [
                  "0",
                  "delivery",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1519000,
              "status": "passed"
            },
            "line": 368,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 1045000,
              "status": "passed"
            },
            "line": 371,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 105",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "105",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              },
              {
                "cells": [
                  "5",
                  "delivery",
                  "serviceLevelHomeDelivery"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 970000,
              "status": "passed"
            },
            "line": 375,
            "name": "this event has the following schedules for rank 1 with status WAIT and remainingAmount 15",
            "match": {
              "arguments": [
                {
                  "val": "1",
                  "offset": 48
                },
                {
                  "val": "WAIT",
                  "offset": 62
                },
                {
                  "val": "15",
                  "offset": 87
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "15",
                  "product",
                  "product2"
                ]
              },
              {
                "cells": [
                  "0",
                  "delivery",
                  "serviceLevelPickUpInStore"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 216000,
              "status": "passed"
            },
            "line": 379,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 41000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 36000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:08.286Z",
        "before": [
          {
            "result": {
              "duration": 39000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 381,
        "name": "Simulate with a cart with 1 product without delivery",
        "description": "",
        "id": ";simulate-with-a-cart-with-1-product-without-delivery",
        "after": [
          {
            "result": {
              "duration": 30000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 18000,
              "status": "passed"
            },
            "line": 382,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 29000,
              "status": "passed"
            },
            "line": 383,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              },
              {
                "cells": [
                  "product1",
                  ""
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 52512000,
              "status": "passed"
            },
            "line": 386,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 62000,
              "status": "passed"
            },
            "line": 387,
            "name": "the simulate response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulate",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 32
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200817000,
              "status": "passed"
            },
            "line": 388,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 423000,
              "status": "passed"
            },
            "line": 391,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 100",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "100",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 922000,
              "status": "passed"
            },
            "line": 394,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 427000,
              "status": "passed"
            },
            "line": 397,
            "name": "this event has the following schedules for rank 0 with status TO_AUTHORIZE and remainingAmount 100",
            "match": {
              "arguments": [
                {
                  "val": "0",
                  "offset": 48
                },
                {
                  "val": "TO_AUTHORIZE",
                  "offset": 62
                },
                {
                  "val": "100",
                  "offset": 95
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.thisEventHasTheFollowingSchedulesForRankWithStatusAndRemainingAmount(int,java.lang.String,int,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "amount",
                  "reference type",
                  "reference id"
                ]
              },
              {
                "cells": [
                  "100",
                  "product",
                  "product1"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 113000,
              "status": "passed"
            },
            "line": 400,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      },
      {
        "line": 7,
        "name": "",
        "description": "",
        "type": "background",
        "keyword": "Background",
        "steps": [
          {
            "result": {
              "duration": 50000,
              "status": "passed"
            },
            "line": 8,
            "name": "the following products are available",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.theFollowingProductsAreAvailable(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "vendor",
                  "product id"
                ]
              },
              {
                "cells": [
                  "100",
                  "vendor1",
                  "product1"
                ]
              },
              {
                "cells": [
                  "15",
                  "leroyMerlin",
                  "product2"
                ]
              }
            ],
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 35000,
              "status": "passed"
            },
            "line": 12,
            "name": "the following deliveries exists for products",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.DeliverySteps.theFollowingDeliveriesExistsForProducts(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "price",
                  "service level id",
                  "product id",
                  "deliverance mode"
                ]
              },
              {
                "cells": [
                  "5",
                  "serviceLevelHomeDelivery",
                  "product1",
                  "HOME_DELIVERY"
                ]
              },
              {
                "cells": [
                  "0",
                  "serviceLevelPickUpInStore",
                  "product2",
                  "PICKUP_IN_STORE"
                ]
              }
            ],
            "keyword": "And "
          }
        ]
      },
      {
        "start_timestamp": "2020-07-12T13:25:08.351Z",
        "before": [
          {
            "result": {
              "duration": 146000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanTestContext()"
            }
          }
        ],
        "line": 402,
        "name": "Simulate on an empty cart",
        "description": "",
        "id": ";simulate-on-an-empty-cart",
        "after": [
          {
            "result": {
              "duration": 27000,
              "status": "passed"
            },
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.ContextCleanerStep.cleanStoredKafkaMessage()"
            }
          }
        ],
        "type": "scenario",
        "keyword": "Scenario",
        "steps": [
          {
            "result": {
              "duration": 14000,
              "status": "passed"
            },
            "line": 403,
            "name": "I\u0027m an authenticated customer with a default address",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerSteps.iMAnAuthenticatedCustomerWithADefaultAddress()"
            },
            "keyword": "Given "
          },
          {
            "result": {
              "duration": 45000,
              "status": "passed"
            },
            "line": 404,
            "name": "I add the following products to my cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.CustomerOrderSteps.iAddTheFollowingProductsToMyCart(io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "product id",
                  "service level id"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 40718000,
              "status": "passed"
            },
            "line": 406,
            "name": "I simulate a payment schedule using the customer cart",
            "match": {
              "location": "com.adeo.sales.customerorder.paymentscheduler.SimulationSteps.iSimulateAPaymentScheduleUsingTheCustomerCart()"
            },
            "keyword": "When "
          },
          {
            "result": {
              "duration": 56000,
              "status": "passed"
            },
            "line": 407,
            "name": "the simulate response status is OK",
            "match": {
              "arguments": [
                {
                  "val": "simulate",
                  "offset": 4
                },
                {
                  "val": "OK",
                  "offset": 32
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.GenericApiStep.theResponseIs(java.lang.String,java.lang.Integer)"
            },
            "keyword": "Then "
          },
          {
            "result": {
              "duration": 200491000,
              "status": "passed"
            },
            "line": 408,
            "name": "a technical event PaymentScheduleUpdated is sent with the following data using an empty cashing id",
            "match": {
              "arguments": [
                {
                  "val": "technical",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleUpdated",
                  "offset": 18
                },
                {
                  "val": "an empty cashing id",
                  "offset": 79
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingDataUsing(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 448000,
              "status": "passed"
            },
            "line": 411,
            "name": "a custom event PaymentScheduleWithInvoiceAddressUpdated is sent with the following data",
            "match": {
              "arguments": [
                {
                  "val": "custom",
                  "offset": 2
                },
                {
                  "val": "PaymentScheduleWithInvoiceAddressUpdated",
                  "offset": 15
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.aEventIsSentWithTheFollowingData(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType,java.lang.String,io.cucumber.datatable.DataTable)"
            },
            "rows": [
              {
                "cells": [
                  "status",
                  "payment status"
                ]
              },
              {
                "cells": [
                  "SIMULATED",
                  "NON_PAYABLE"
                ]
              }
            ],
            "keyword": "And "
          },
          {
            "result": {
              "duration": 87000,
              "status": "passed"
            },
            "line": 414,
            "name": "no domain event is sent",
            "match": {
              "arguments": [
                {
                  "val": "domain",
                  "offset": 3
                }
              ],
              "location": "com.adeo.sales.customerorder.paymentscheduler.EventSteps.noEventIsSent(com.adeo.sales.customerorder.paymentscheduler.kafka.EventType)"
            },
            "keyword": "And "
          }
        ]
      }
    ],
    "name": "Simulate a payment scheduler",
    "description": "  This feature allow to create a payment scheduler.\n  The aim of a simulation is to know when the customer should paid, and how many.\n  The simulation retrieve the invoice address of the customer if a customerId is given.",
    "id": "simulate-a-payment-scheduler",
    "keyword": "Feature",
    "uri": "classpath:features/simulation_v2.feature",
    "tags": []
  }
]